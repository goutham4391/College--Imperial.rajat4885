!function(c,i,s,d,u,a,r){function t(t){var e,n;l||(l=!0,e=i.getElementsByTagName(s)[0],(n=i.createElement(s)).src="https://browser.sentry-cdn.com/7.12.1/bundle.es5.min.js",n.crossOrigin="anonymous",n.addEventListener("load",function(){try{c[d]=f,c[u]=m;var e=c[a],n=e.init;e.init=function(e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);n(r)},function(e,t){try{for(var n=p.data,i=0;i<e.length;i++)"function"==typeof e[i]&&e[i]();var s,a=!1,r=c.__SENTRY__;for(void 0!==r&&r.hub&&r.hub.getClient()&&(a=!0),r=!1,i=0;i<n.length;i++)n[i].f&&(r=!0,s=n[i],!1===a&&"init"!==s.f&&t.init(),a=!0,t[s.f].apply(t,s.a));!1===a&&!1===r&&t.init();var o=c[d],l=c[u];for(i=0;i<n.length;i++)n[i].e&&o?o.apply(c,n[i].e):n[i].p&&l&&l.apply(c,[n[i].p])}catch(e){console.error(e)}}(t,e)}catch(e){console.error(e)}}),e.parentNode.insertBefore(n,e))}for(var n=!0,o=!1,e=0;e<document.scripts.length;e++)if(-1<document.scripts[e].src.indexOf("45edcc1c25f848538599e0fa51c1cbfe")){n="no"!==document.scripts[e].getAttribute("data-lazy");break}var l=!1,h=[],p=function(e){(e.e||e.p||e.f&&-1<e.f.indexOf("capture")||e.f&&-1<e.f.indexOf("showReportDialog"))&&n&&t(h),p.data.push(e)};p.data=[],c[a]=c[a]||{},c[a].onLoad=function(e){h.push(e),n&&!o||t(h)},c[a].forceLoad=function(){o=!0,n&&setTimeout(function(){t(h)})},"init addBreadcrumb captureMessage captureException captureEvent configureScope withScope showReportDialog".split(" ").forEach(function(e){c[a][e]=function(){p({f:e,a:arguments})}});var f=c[d];c[d]=function(e,t,n,i,s){p({e:[].slice.call(arguments)}),f&&f.apply(c,arguments)};var m=c[u];c[u]=function(e){p({p:e.reason}),m&&m.apply(c,arguments)},n||setTimeout(function(){t(h)})}(window,document,"script","onerror","onunhandledrejection","Sentry",{dsn:"https://45edcc1c25f848538599e0fa51c1cbfe@o105906.ingest.sentry.io/1414527"}),function(r,d,h){var o=[],e={_version:"3.8.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){o.push({name:e,fn:t,options:n})},addAsyncTest:function(e){o.push({name:null,fn:e})}},l=function(){};l.prototype=e,l=new l;var c=[];function u(e,t){return typeof e===t}var p=d.documentElement,f="svg"===p.nodeName.toLowerCase();function a(e){var t,n=p.className,i=l._config.classPrefix||"";f&&(n=n.baseVal),l._config.enableJSClass&&(t=new RegExp("(^|\\s)"+i+"no-js(\\s|$)"),n=n.replace(t,"$1"+i+"js$2")),l._config.enableClasses&&(0<e.length&&(n+=" "+i+e.join(" "+i)),f?p.className.baseVal=n:p.className=n)}var t="Moz O ms Webkit",m=e._config.usePrefixes?t.toLowerCase().split(" "):[];e._domPrefixes=m;var v,n,g=e._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];function _(e,t){if("object"==typeof e)for(var n in e)v(e,n)&&_(n,e[n]);else{var i=(e=e.toLowerCase()).split("."),s=l[i[0]];if(2===i.length&&(s=s[i[1]]),void 0!==s)return l;t="function"==typeof t?t():t,1===i.length?l[i[0]]=t:(!l[i[0]]||l[i[0]]instanceof Boolean||(l[i[0]]=new Boolean(l[i[0]])),l[i[0]][i[1]]=t),a([(t&&!1!==t?"":"no-")+i.join("-")]),l._trigger(e,t)}return l}function b(e){return"function"!=typeof d.createElement?d.createElement(e):f?d.createElementNS.call(d,"http://www.w3.org/2000/svg",e):d.createElement.apply(d,arguments)}e._prefixes=g,v=void 0!==(n={}.hasOwnProperty)&&void 0!==n.call?function(e,t){return n.call(e,t)}:function(e,t){return t in e&&void 0===e.constructor.prototype[t]},e._l={},e.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),l.hasOwnProperty(e)&&setTimeout(function(){l._trigger(e,l[e])},0)},e._trigger=function(e,t){var n;this._l[e]&&(n=this._l[e],setTimeout(function(){for(var e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e])},l._q.push(function(){e.addTest=_});var i,s=(i=!("onblur"in p),function(e,t){var n;return!!e&&(t&&"string"!=typeof t||(t=b(t||"div")),!(n=(e="on"+e)in t)&&i&&(t.setAttribute||(t=b("div")),t.setAttribute(e,""),n="function"==typeof t[e],t[e]!==h&&(t[e]=h),t.removeAttribute(e)),n)});function y(e,t,n,i){var s,a,r,o="modernizr",l=b("div"),c=((r=d.body)||((r=b(f?"svg":"body")).fake=!0),r);if(parseInt(n,10))for(;n--;)(s=b("div")).id=i?i[n]:o+(n+1),l.appendChild(s);return(r=b("style")).type="text/css",r.id="s"+o,(c.fake?c:l).appendChild(r),c.appendChild(l),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(d.createTextNode(e)),l.id=o,c.fake&&(c.style.background="",c.style.overflow="hidden",a=p.style.overflow,p.style.overflow="hidden",p.appendChild(c)),e=t(l,e),c.fake?(c.parentNode.removeChild(c),p.style.overflow=a,p.offsetHeight):l.parentNode.removeChild(l),!!e}e.hasEvent=s;var w,x=(w=r.matchMedia||r.msMatchMedia)?function(e){e=w(e);return e&&e.matches||!1}:function(e){var t=!1;return y("@media "+e+" { #modernizr { position: absolute; } }",function(e){t="absolute"===(r.getComputedStyle?r.getComputedStyle(e,null):e.currentStyle).position}),t};e.mq=x;var C=e._config.usePrefixes?t.split(" "):[];e._cssomPrefixes=C;var k={elem:b("modernizr")};l._q.push(function(){delete k.elem});var T={style:k.elem.style};function $(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function S(e,t){var n=e.length;if("CSS"in r&&"supports"in r.CSS){for(;n--;)if(r.CSS.supports($(e[n]),t))return!0;return!1}if("CSSSupportsRule"in r){for(var i=[];n--;)i.push("("+$(e[n])+":"+t+")");return y("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"===(t=e,n=null,i="position","getComputedStyle"in r?(s=getComputedStyle.call(r,t,n),e=r.console,null!==s?i&&(s=s.getPropertyValue(i)):e&&e[e.error?"error":"log"].call(e,"getComputedStyle returning null, its possible modernizr test results are inaccurate")):s=!n&&t.currentStyle&&t.currentStyle[i],s);var t,n,i,s})}return h}function A(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function N(e,t,n,i){if(i=void 0!==i&&i,void 0!==n){var s=S(e,n);if(void 0!==s)return s}for(var a,r,o,l,c,d=["modernizr","tspan","samp"];!T.style&&d.length;)a=!0,T.modElem=b(d.shift()),T.style=T.modElem.style;function u(){a&&(delete T.style,delete T.modElem)}for(o=e.length,r=0;r<o;r++)if(l=e[r],c=T.style[l],~(""+l).indexOf("-")&&(l=A(l)),T.style[l]!==h){if(i||void 0===n)return u(),"pfx"!==t||l;try{T.style[l]=n}catch(e){}if(T.style[l]!==c)return u(),"pfx"!==t||l}return u(),!1}function q(e,t,n){var i,s;for(s in e)if(e[s]in t)return!1===n?e[s]:u(i=t[e[s]],"function")?function(e,t){return function(){return e.apply(t,arguments)}}(i,n||t):i;return!1}function j(e,t,n,i,s){var a=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+C.join(a+" ")+a).split(" ");return u(t,"string")||void 0===t?N(r,t,i,s):q(r=(e+" "+m.join(a+" ")+a).split(" "),t,n)}function M(e){var t,n=g.length,i=r.CSSRule;if(void 0===i)return h;if(!e)return!1;if((t=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+e;for(var s=0;s<n;s++){var a=g[s];if(a.toUpperCase()+"_"+t in i)return"@-"+a.toLowerCase()+"-"+e}return!1}function E(e,t,n){return j(e,h,h,t,n)}l._q.unshift(function(){delete T.style}),e.testAllProps=j,e.atRule=M,e.prefixed=function(e,t,n){return 0===e.indexOf("@")?M(e):(-1!==e.indexOf("-")&&(e=A(e)),t?j(e,t,n):j(e,"pfx"))},e.testAllProps=E,e.testProp=function(e,t,n){return N([e],h,t,n)};var I=e.testStyles=y;f||function(e,o){var l,c,t=e.html5||{},i=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,s=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,n="_html5shiv",a=0,r={};function d(){var e=f.elements;return"string"==typeof e?e.split(" "):e}function u(e){var t=r[e[n]];return t||(t={},a++,e[n]=a,r[a]=t),t}function h(e,t,n){return t=t||o,c?t.createElement(e):!(t=(n=n||u(t)).cache[e]?n.cache[e].cloneNode():s.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||i.test(e)||t.tagUrn?t:n.frag.appendChild(t)}function p(e){var t,n,i,s,a,r=u(e=e||o);return!f.shivCSS||l||r.hasCSS||(r.hasCSS=(n="article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}",i=(t=e).createElement("p"),t=t.getElementsByTagName("head")[0]||t.documentElement,i.innerHTML="x<style>"+n+"</style>",!!t.insertBefore(i.lastChild,t.firstChild))),c||(s=e,(a=r).cache||(a.cache={},a.createElem=s.createElement,a.createFrag=s.createDocumentFragment,a.frag=a.createFrag()),s.createElement=function(e){return f.shivMethods?h(e,s,a):a.createElem(e)},s.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-:]+/g,function(e){return a.createElem(e),a.frag.createElement(e),'c("'+e+'")'})+");return n}")(f,a.frag)),e}!function(){try{var e=o.createElement("a");e.innerHTML="<xyz></xyz>",l="hidden"in e,c=1==e.childNodes.length||function(){o.createElement("a");var e=o.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){c=l=!0}}();var f={elements:t.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==t.shivCSS,supportsUnknownElements:c,shivMethods:!1!==t.shivMethods,type:"default",shivDocument:p,createElement:h,createDocumentFragment:function(e,t){if(e=e||o,c)return e.createDocumentFragment();for(var n=(t=t||u(e)).frag.cloneNode(),i=0,s=d(),a=s.length;i<a;i++)n.createElement(s[i]);return n},addElements:function(e,t){var n=f.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),f.elements=n+" "+e,p(t)}};e.html5=f,p(o),"object"==typeof module&&module.exports&&(module.exports=f)}(void 0!==r?r:this,d),l.addTest("canvas",function(){var e=b("canvas");return!(!e.getContext||!e.getContext("2d"))}),l.addTest("canvastext",function(){return!1!==l.canvas&&"function"==typeof b("canvas").getContext("2d").fillText});var D=b("input");!function(){for(var e,t,n,i=["search","tel","url","email","datetime","date","month","week","time","datetime-local","number","range","color"],s=0;s<i.length;s++)D.setAttribute("type",e=i[s]),(n="text"!==D.type&&"style"in D)&&(D.value="1)",D.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&D.style.WebkitAppearance!==h?(p.appendChild(D),n=(t=d.defaultView).getComputedStyle&&"textfield"!==t.getComputedStyle(D,null).WebkitAppearance&&0!==D.offsetHeight,p.removeChild(D)):/^(search|tel)$/.test(e)||(n=/^(url|email)$/.test(e)?D.checkValidity&&!1===D.checkValidity():"1)"!==D.value)),l.addTest("inputtypes."+e,!!n)}(),l.addTest("svg",!!d.createElementNS&&!!d.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),l.addTest("backgroundsize",E("backgroundSize","100%",!0)),l.addTest("borderimage",E("borderImage","url() 1",!0)),l.addTest("borderradius",E("borderRadius","0px",!0)),l.addTest("boxshadow",E("boxShadow","1px 1px",!0)),l.addTest("csscalc",function(){var e=b("a");return e.style.cssText="width:"+g.join("calc(10px);width:"),!!e.style.length}),function(){l.addTest("csscolumns",function(){var e=!1,t=E("columnCount");try{e=(e=!!t)&&new Boolean(e)}catch(e){}return e});for(var e,t,n=["Width","Span","Fill","Gap","Rule","RuleColor","RuleStyle","RuleWidth","BreakBefore","BreakAfter","BreakInside"],i=0;i<n.length;i++)e=n[i].toLowerCase(),t=E("column"+n[i]),"breakbefore"!==e&&"breakafter"!==e&&"breakinside"!==e||(t=t||E(n[i])),l.addTest("csscolumns."+e,t)}(),l.addTest("flexboxlegacy",E("boxDirection","reverse",!0)),(s=navigator.userAgent,t=s.match(/w(eb)?osbrowser/gi),s=s.match(/windows phone/gi)&&s.match(/iemobile\/([0-9])+/gi)&&9<=parseFloat(RegExp.$1),t||s)?l.addTest("fontface",!1):I('@font-face {font-family:"font";src:url("https://")}',function(e,t){var n=d.getElementById("smodernizr"),n=n.sheet||n.styleSheet,n=n?n.cssRules&&n.cssRules[0]?n.cssRules[0].cssText:n.cssText||"":"",t=/src/i.test(n)&&0===n.indexOf(t.split(" ")[0]);l.addTest("fontface",t)}),I('#modernizr{font:0/0 a}#modernizr:after{content:":)";visibility:hidden;font:7px/1 a}',function(e){l.addTest("generatedcontent",6<=e.offsetHeight)}),l.addTest("mediaqueries",x("only all")),l.addTest("opacity",function(){var e=b("a").style;return e.cssText=g.join("opacity:.55;"),/^0.55$/.test(e.opacity)}),l.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&E("transform","scale(1)",!0)}),I="CSS"in r&&"supports"in r.CSS,x="supportsCSS"in r,l.addTest("supports",I||x),l.addTest("csstransforms3d",function(){return!!E("perspective","1px",!0)}),l.addTest("csstransitions",E("transition","all",!0)),function(){var e,t,n,i,s,a,r;for(r in o)if(o.hasOwnProperty(r)){if(e=[],t=o[r],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(i=u(t.fn,"function")?t.fn():t.fn,s=0;s<e.length;s++)1===(a=e[s].split(".")).length?l[a[0]]=i:(l[a[0]]&&(!l[a[0]]||l[a[0]]instanceof Boolean)||(l[a[0]]=new Boolean(l[a[0]])),l[a[0]][a[1]]=i),c.push((i?"":"no-")+a.join("-"))}}(),a(c),delete e.addTest,delete e.addAsyncTest;for(var P=0;P<l._q.length;P++)l._q[P]();r.Modernizr=l}(window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";function t(e){void 0===e&&(e=window.navigator.userAgent),e=e.toLowerCase();var t,n,i=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0<=e.indexOf("trident")&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],s=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[],e={},s={browser:i[5]||i[3]||i[1]||"",version:i[2]||i[4]||"0",versionNumber:i[4]||i[2]||"0",platform:s[0]||""};return s.browser&&(e[s.browser]=!0,e.version=s.version,e.versionNumber=parseInt(s.versionNumber,10)),s.platform&&(e[s.platform]=!0),(e.android||e.bb||e.blackberry||e.ipad||e.iphone||e.ipod||e.kindle||e.playbook||e.silk||e["windows phone"])&&(e.mobile=!0),(e.cros||e.mac||e.linux||e.win)&&(e.desktop=!0),(e.chrome||e.opr||e.safari)&&(e.webkit=!0),(e.rv||e.iemobile)&&(s.browser="msie",e.msie=!0),e.edge&&(delete e.edge,s.browser="msedge",e.msedge=!0),e.safari&&e.blackberry&&(t="blackberry",e[s.browser=t]=!0),e.safari&&e.playbook&&(t="playbook",e[s.browser=t]=!0),e.bb&&(n="blackberry",e[s.browser=n]=!0),e.opr&&(s.browser="opera",e.opera=!0),e.safari&&e.android&&(n="android",e[s.browser=n]=!0),e.safari&&e.kindle&&(s.browser="kindle",e.kindle=!0),e.safari&&e.silk&&(s.browser="silk",e.silk=!0),e.name=s.browser,e.platform=s.platform,e}return window.jQBrowser=t(window.navigator.userAgent),window.jQBrowser.uaMatch=t,e&&(e.browser=window.jQBrowser),window.jQBrowser}),function(e){e.fn.preventTouchOverScroll=function(){return this.each(function(){var n,i,s;(s=e(n=this)).on("touchstart",function(e){i=e.originalEvent.changedTouches[0].screenY}),s.on("touchmove",function(e){var t=e.originalEvent.changedTouches[0].screenY;console.log("height: ",s.height(),"scrollTop:",s.scrollTop(),"scrollHeight: ",n.scrollHeight),(t<i&&s.height()+s.scrollTop()>=n.scrollHeight||i<t&&s.scrollTop()<=0)&&e.preventDefault()})})}}(jQuery),function(d){d.fn.hoverIntent=function(e,t,n){function s(e){i=e.pageX,a=e.pageY}var i,a,r,o,l={interval:100,sensitivity:6,timeout:0},l="object"==typeof e?d.extend(l,e):d.isFunction(t)?d.extend(l,{over:e,out:t,selector:n}):d.extend(l,{over:e,out:e,selector:t}),c=function(e,t){if(t.hoverIntent_t=clearTimeout(t.hoverIntent_t),Math.sqrt((r-i)*(r-i)+(o-a)*(o-a))<l.sensitivity)return d(t).off("mousemove.hoverIntent",s),t.hoverIntent_s=!0,l.over.apply(t,[e]);r=i,o=a,t.hoverIntent_t=setTimeout(function(){c(e,t)},l.interval)},t=function(e){var n=d.extend({},e),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),"mouseenter"===e.type?(r=n.pageX,o=n.pageY,d(i).on("mousemove.hoverIntent",s),i.hoverIntent_s||(i.hoverIntent_t=setTimeout(function(){c(n,i)},l.interval))):(d(i).off("mousemove.hoverIntent",s),i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){var e,t;e=n,(t=i).hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=!1,l.out.apply(t,[e])},l.timeout)))};return this.on({"mouseenter.hoverIntent":t,"mouseleave.hoverIntent":t},l.selector)}}(jQuery),function(m){var v={defaults:{type:"auto",defaultType:"tabs",selectors:{item:".item",header:".item-header",content:".item-content"},flexTabNav:!0,htmlTab:!1,tabNavClasses:"",tabItemsClasses:"",tabNavAsList:!0,accordionSpeed:300,openTabTrigger:"click",openAccordionTrigger:"click",firstAccordionOpen:!0,onlyKeepOneOpen:!0},typeOptions:["tabs","accordion"],typeDefault:"tabs",keycodes:{left:37,up:38,right:39,down:40},init:function(e,t){t=m.extend({},v.defaults,t);switch(m(e).data("panelGroup",t),t.originalHTML=m(e).clone().html(),t.type){case"tabs":v.makeTabs(m(e));break;case"accordion":v.makeAccordion(m(e));break;case"auto":var n=m(e).data("group-type");switch(-1===m.inArray(n,v.typeOptions)&&(n="tabs"),n){case"tabs":v.makeTabs(m(e));break;case"accordion":v.makeAccordion(m(e))}}},makeTabs:function(n){var i,s,a,r,o,l,c,d,u=m(n).data("panelGroup"),e=m('<div class="tab-nav-wrapper">'),t=m(n).data("tab-nav-title"),h=[],p=m('<div class="tab-items">').addClass(u.tabItemsClasses),f=u.tabNavAsList?m('<ul class="tab-nav" role="tablist">'):m('<div class="tab-nav" role="tablist">');m(n).data("groupType","tabs"),e.addClass(u.tabNavClasses),t&&e.prepend('<h4 class="tab-nav-title">'+t+"</h4>"),e.append(f),n.addClass("tabs"),n.removeAttr("role aria-multiselectable aria-owns"),n.find(u.selectors.item).each(function(e){var t=m(this).attr("id");d=Math.floor(1e8*Math.random()),l=m(this).find(u.selectors.header),c=u.htmlTab?l.html():"<span>"+l.text()+"</span>",s=0==e?"0":"-1",a=0==e?"true":"false",r=0==e?"false":"true",o="panelGroup_panel-"+d,l="panelGroup_tab-"+d,d=u.tabNavAsList?"<li>":"",d+="<button",d+=' id="'+l+'"',d+=' class="tab-nav-tab"',d+=' tabindex="'+s+'"',d+=' data-tab-index="'+e+'"',d+=' role="tab"',d+=' aria-selected="'+a+'"',d+=' aria-controls="'+(t||o)+'"',d+=">",d+=c,d+="</button>",u.tabNavAsList&&(d+="</li>"),h.push(d),m(this).find(u.selectors.header).addClass("sr-only print-only"),p.append(m(this).attr({"data-tab-index":e,role:"tabpanel",id:t||o,"aria-hidden":r,"aria-labelledby":t||l}))}),f.append(h),n.append(f.parent()).append(p),u.flexTabNav&&f.find(" > li").css("width",100/h.length+"%"),f.addClass("has-"+h.length),(i=n.find(".tab-items")).find(u.selectors.item).not("[data-tab-index=0]").hide(),f.find(".tab-nav-tab").first().addClass("active"),f.find(".tab-nav-tab").first().addClass("active"),f.find(".tab-nav-tab").on(u.openTabTrigger,function(e){var t;m(this).is(".active")||(n.trigger("tabstart"),t=m(this).data("tab-index"),i.find(u.selectors.item).not("[data-tab-index="+t+"]").hide().attr("aria-hidden","true"),i.find(u.selectors.item+"[data-tab-index="+t+"]").show().attr("aria-hidden","false"),f.find(".active").removeClass("active").attr({tabindex:"-1","aria-selected":"false"}),m(this).addClass("active").attr({tabindex:"0","aria-selected":"true"}),n.trigger("tabchange")),e.preventDefault()}).on("focus",function(){m(this).trigger("click")}).on("keydown",function(e){switch(e.keyCode){case v.keycodes.left:case v.keycodes.up:(u.tabNavAsList?m(this).parent("li").prev("li").find("*[role=tab]"):m(this).prev("*[role=tab]")).focus(),event.preventDefault();break;case v.keycodes.down:case v.keycodes.right:(u.tabNavAsList?m(this).parent("li").next("li").find("*[role=tab]"):m(this).next("*[role=tab]")).focus(),event.preventDefault()}})},makeAccordion:function(i){var s,e,n,a,r=i.data("panelGroup"),t=i.find(r.selectors.item),o=!1,l=!1,c=Math.floor(1e8*Math.random()),d=[];m(i).data("groupType","accordion"),(e=t.find(r.selectors.header)).wrapInner('<a href="#"></a>'),i.addClass("accordion"),panels=t.find(r.selectors.content),t.each(function(e){var t=m(this).attr("id");tabHeaderText=m(this).find(r.selectors.header).text(),a="panelGroup_panel-"+c+"-"+tabHeaderText.replace(/[^\w\s]/gi,"").replace(/[\s]/gi,"_").toLowerCase(),n="panelGroup_tab-"+c+"-"+tabHeaderText.replace(/[^\w\s]/gi,"").replace(/[\s]/gi,"_").toLowerCase(),d.push(t||n),m(this).find(r.selectors.header).children("a").attr({role:"tab",id:t||n,"aria-controls":a,tabindex:0==e?"0":"-1","aria-expanded":"false","aria-selected":"false"}),m(panels[e]).attr({role:"tabpanel","aria-labelledby":t||n,id:a}),m(this).removeAttr("role aria-hidden aria-labelledby id")}),i.attr({role:"tablist","aria-multiselectable":"true","aria-owns":d.join(" ")}),r.firstAccordionOpen?(i.find(r.selectors.item+":gt(0)").find(r.selectors.content).hide().attr("aria-hidden","true"),s=t.first().addClass("active").find(r.selectors.content).attr("aria-hidden","false").end().find(r.selectors.header).children("a").attr("aria-expanded","true")):i.find(r.selectors.item).find(r.selectors.content).hide(),e.children("a").on(r.openAccordionTrigger,function(e){if(l||(i.trigger("accordionstart"),l=!0),o)return!1;var t=m(this),n=i.find(r.selectors.item).has(t),t=n.find(r.selectors.content);if(n.is(".active")){if("focus"==e.type)return;temp=i,o=!0,t.slideUp(r.accordionSpeed,function(e){n.removeClass("active").find(r.selectors.header).children("a").attr("aria-expanded","false"),n.find(r.selectors.content).attr("aria-hidden","true"),o=!1,m(temp).trigger("accordionchange"),l=!1})}else temp=i,r.onlyKeepOneOpen&&(l||(i.trigger("accordionstart"),l=!0),(s=m(this).parents(r.selectors.item.replace(/>/,"").trim()).siblings(".active")).find(r.selectors.content).slideUp(r.accordionSpeed,function(){s.removeClass("active").find(r.selectors.header).children("a").attr("aria-expanded","false").end().find(r.selectors.content).attr("aria-hidden","true"),l=!1})),n.addClass("active"),o=!0,t.slideDown(r.accordionSpeed,function(){o=!1,temp.trigger("accordionstart"),l=!1,m(this).attr("aria-hidden","false").parents(".item").find(r.selectors.header).children("a").attr("aria-expanded","true"),temp.trigger("accordionchange")});e.preventDefault()}).on("focus",function(){m(this).parents(".panel-group").find("*[tabindex=0]").attr({tabindex:"-1","aria-selected":"false"}),m(this).attr({tabindex:"0","aria-selected":"true"})}).on("keydown",function(e){switch(e.keyCode){case v.keycodes.left:case v.keycodes.up:m(this).parents(r.selectors.item.replace("> ","").trim()).prevAll(r.selectors.item.replace("> ","").trim()).eq(0).find("*[role=tab]").focus(),e.preventDefault();break;case v.keycodes.down:case v.keycodes.right:m(this).parents(r.selectors.item.replace("> ","").trim()).nextAll(r.selectors.item.replace("> ","").trim()).eq(0).find("*[role=tab]").focus(),event.preventDefault()}})},methods:{tabsToAccordions:function(e){m(e).data("panelGroup");"tabs"==m(e).data("groupType")&&(v.methods.destroyTabs(e),v.makeAccordion(m(e)),m(e).data("tabsToAccordion","true"))},tabsBackToTabs:function(e){m(e).data("panelGroup");"accordion"==m(e).data("groupType")&&m(e).data("tabsToAccordion")&&(v.methods.destroyAccordion(e),v.makeTabs(m(e)),m(e).data("tabsToAccordion","false"))},destroyTabs:function(e){var t=m(e).data("panelGroup");m(e).removeClass("tabs"),m(e).find(".tab-nav-wrapper").remove(),m(e).find(".tab-items").children().first().unwrap(),m(e).find(t.selectors.header).removeClass("sr-only").show(),m(e).find(t.selectors.item).removeAttr("data-tab-index").removeClass("active").show()},destroyAccordion:function(e){var t=m(e).data("panelGroup");m(e).removeClass("accordion"),m(e).find(t.selectors.header).show(),m(e).find(t.selectors.header).find("a").contents().unwrap(),m(e).find(t.selectors.item).removeClass("active").show(),m(e).find(t.selectors.content).show()}}};m.fn.panelGroup=function(t){return v.methods[t]?this.each(function(e){v.methods[t].apply(this,Array.prototype.slice.call(m(this)))}):this.each(function(e){v.init(this,t)})}}(jQuery),function(i){"use strict";i.fn.emulateTransitionEnd=function(e){var t=!1,n=this;i(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||i(n).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return{end:n[e]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(){var n,t;function e(){}function i(e,t,n,i){this.condition=e,this.setup=t,this.on=n,this.off=i}function s(e){this.media=e,this._listeners=[],this.matches=this._matches()}this.Harvey=(e.states={},e.attach=function(e,t){return this.states.hasOwnProperty(e)||(this.states[e]=[],this._add_css_for(e)),t=new n(e,null!=t?t.setup:void 0,null!=t?t.on:void 0,null!=t?t.off:void 0),this.states[e].length||this._watch_query(e),this.states[e].push(t),this._window_matchmedia(e).matches&&this._update_states([t],!0),t},e.detach=function(e){for(var t,n,i=this.states[e.condition],s=[],a=n=0,r=i.length;n<r;a=++n)e===(t=i[a])?s.push(this.states[t.condition][a]=void 0):s.push(void 0);return s},e._watch_query=function(t){var n=this;return this._window_matchmedia(t).addListener(function(e){return n._update_states(n.states[t],e.matches)})},e._update_states=function(e,t){for(var n,i=[],s=0,a=e.length;s<a;s++)n=e[s],t?i.push(n.activate()):i.push(n.deactivate());return i},e._mediaList={},e._window_matchmedia=function(e){return window.matchMedia&&"addListener"in window.matchMedia("all")?e in this._mediaList||(this._mediaList[e]=window.matchMedia(e)):(this._listening||this._listen(),e in this._mediaList||(this._mediaList[e]=new t(e))),this._mediaList[e]},e._listen=function(){var s=this,e=window.addEventListener||window.attachEvent;return e("resize",function(){var e,t,n=s._mediaList,i=[];for(t in n)e=n[t],i.push(e._process());return i}),e("orientationChange",function(){var e,t,n=s._mediaList,i=[];for(t in n)e=n[t],i.push(e._process());return i}),this._listening=!0},e._add_css_for=function(e){if(this.style||(this.style=document.createElement("style"),this.style.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.style)),e="@media "+e+" {.harvey-test{}}",!this.style.styleSheet)return this.style.appendChild(document.createTextNode(e))},e),i.prototype.active=!1,i.prototype.is_setup=!1,i.prototype.activate=function(){if(!this.active)return this.is_setup||("function"==typeof this.setup&&this.setup(),this.is_setup=!0),"function"==typeof this.on&&this.on(),this.active=!0},i.prototype.deactivate=function(){if(this.active)return"function"==typeof this.off&&this.off(),this.active=!1},n=i,s.prototype.addListener=function(e){this._listeners.push(e)},s.prototype._process=function(){var e,t,n,i,s,a=this._matches();if(this.matches!==a){for(this.matches=a,s=[],t=0,n=(i=this._listeners).length;t<n;t++)e=i[t],s.push(e(this));return s}},s.prototype._matches=function(){return this._tester||this._get_tester(),this._tester.innerHTML='&shy;<style media="'+this.media+'">#harvey-mq-test{width:42px;}</style>',this._tester.removeChild(this._tester.firstChild),42===this._tester.offsetWidth},s.prototype._get_tester=function(){if(this._tester=document.getElementById("harvey-mq-test"),!this._tester)return this._build_tester()},s.prototype._build_tester=function(){return this._tester=document.createElement("div"),this._tester.id="harvey-mq-test",this._tester.style.cssText="position:absolute;top:-100em",document.body.insertBefore(this._tester,document.body.firstChild)},t=s}.call(this),function(h){var n=!0;h.flexslider=function(p,e){var f=h(p);void 0===e.rtl&&"rtl"==h("html").attr("dir")&&(e.rtl=!0),f.vars=h.extend({},h.flexslider.defaults,e);var t,r=f.vars.namespace,m=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,o=("ontouchstart"in window||m||window.DocumentTouch&&document instanceof DocumentTouch)&&f.vars.touch,l="click touchend MSPointerUp keyup",c="",v="vertical"===f.vars.direction,g=f.vars.reverse,_=0<f.vars.itemWidth,b="fade"===f.vars.animation,d=""!==f.vars.asNavFor,u={};h.data(p,"flexslider",f),u={init:function(){f.animating=!1,f.currentSlide=parseInt(f.vars.startAt||0,10),isNaN(f.currentSlide)&&(f.currentSlide=0),f.animatingTo=f.currentSlide,f.atEnd=0===f.currentSlide||f.currentSlide===f.last,f.containerSelector=f.vars.selector.substr(0,f.vars.selector.search(" ")),f.slides=h(f.vars.selector,f),f.container=h(f.containerSelector,f),f.count=f.slides.length,f.syncExists=0<h(f.vars.sync).length,"slide"===f.vars.animation&&(f.vars.animation="swing"),f.prop=v?"top":f.vars.rtl?"marginRight":"marginLeft",f.args={},f.manualPause=!1,f.stopped=!1,f.started=!1,f.startTimeout=null,f.transitions=!f.vars.video&&!b&&f.vars.useCSS&&function(){var e,t=document.createElement("div"),n=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(e in n)if(void 0!==t.style[n[e]])return f.pfx=n[e].replace("Perspective","").toLowerCase(),f.prop="-"+f.pfx+"-transform",!0;return!1}(),(f.ensureAnimationEnd="")!==f.vars.controlsContainer&&(f.controlsContainer=0<h(f.vars.controlsContainer).length&&h(f.vars.controlsContainer)),""!==f.vars.manualControls&&(f.manualControls=0<h(f.vars.manualControls).length&&h(f.vars.manualControls)),""!==f.vars.customDirectionNav&&(f.customDirectionNav=2===h(f.vars.customDirectionNav).length&&h(f.vars.customDirectionNav)),f.vars.randomize&&(f.slides.sort(function(){return Math.round(Math.random())-.5}),f.container.empty().append(f.slides)),f.doMath(),f.setup("init"),f.vars.controlNav&&u.controlNav.setup(),f.vars.directionNav&&u.directionNav.setup(),f.vars.keyboard&&(1===h(f.containerSelector).length||f.vars.multipleKeyboard)&&h(document).on("keyup",function(e){e=e.keyCode;f.animating||39!==e&&37!==e||(e=f.vars.rtl?37===e?f.getTarget("next"):39===e&&f.getTarget("prev"):39===e?f.getTarget("next"):37===e&&f.getTarget("prev"),f.flexAnimate(e,f.vars.pauseOnAction))}),f.vars.mousewheel&&f.on("mousewheel",function(e,t,n,i){e.preventDefault();t=t<0?f.getTarget("next"):f.getTarget("prev");f.flexAnimate(t,f.vars.pauseOnAction)}),f.vars.pausePlay&&u.pausePlay.setup(),f.vars.slideshow&&f.vars.pauseInvisible&&u.pauseInvisible.init(),f.vars.slideshow&&(f.vars.pauseOnHover&&f.hover(function(){f.manualPlay||f.manualPause||f.pause()},function(){f.manualPause||f.manualPlay||f.stopped||f.play()}),f.vars.pauseInvisible&&u.pauseInvisible.isHidden()||(0<f.vars.initDelay?f.startTimeout=setTimeout(f.play,f.vars.initDelay):f.play())),d&&u.asNav.setup(),o&&f.vars.touch&&u.touch(),(!b||b&&f.vars.smoothHeight)&&h(window).on("resize orientationchange focus",u.resize),f.find("img").attr("draggable","false"),setTimeout(function(){f.vars.start(f)},200)},asNav:{setup:function(){f.asNav=!0,f.animatingTo=Math.floor(f.currentSlide/f.move),f.currentItem=f.currentSlide,f.slides.removeClass(r+"active-slide").eq(f.currentItem).addClass(r+"active-slide"),m?(p._slider=f).slides.each(function(){var e=this;e._gesture=new MSGesture,(e._gesture.target=e).addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),e.addEventListener("MSGestureTap",function(e){e.preventDefault();var t=h(this),e=t.index();h(f.vars.asNavFor).data("flexslider").animating||t.hasClass("active")||(f.direction=f.currentItem<e?"next":"prev",f.flexAnimate(e,f.vars.pauseOnAction,!1,!0,!0))})}):f.slides.on(l,function(e){e.preventDefault();var t=h(this),n=t.index(),e=f.vars.rtl?-1*(t.offset().right-h(f).scrollLeft()):t.offset().left-h(f).scrollLeft();e<=0&&t.hasClass(r+"active-slide")?f.flexAnimate(f.getTarget("prev"),!0):h(f.vars.asNavFor).data("flexslider").animating||t.hasClass(r+"active-slide")||(f.direction=f.currentItem<n?"next":"prev",f.flexAnimate(n,f.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){f.manualControls?u.controlNav.setupManual():u.controlNav.setupPaging()},setupPaging:function(){var e="thumbnails"===f.vars.controlNav?"control-thumbs":"control-paging",t=1;if(f.controlNavScaffold=h('<ol class="'+r+"control-nav "+r+e+'"></ol>'),1<f.pagingCount)for(var n=0;n<f.pagingCount;n++){void 0===(i=f.slides.eq(n)).attr("data-thumb-alt")&&i.attr("data-thumb-alt","");var i,s=""!==i.attr("data-thumb-alt")?s=' alt="'+i.attr("data-thumb-alt")+'"':"",a="thumbnails"===f.vars.controlNav?'<img src="'+i.attr("data-thumb")+'"'+s+"/>":'<a href="#">'+t+"</a>";"thumbnails"!==f.vars.controlNav||!0!==f.vars.thumbCaptions||""!==(i=i.attr("data-thumbcaption"))&&void 0!==i&&(a+='<span class="'+r+'caption">'+i+"</span>"),f.controlNavScaffold.append("<li>"+a+"</li>"),t++}(f.controlsContainer?h(f.controlsContainer):f).append(f.controlNavScaffold),u.controlNav.set(),u.controlNav.active(),f.controlNavScaffold.on(l,"a, img",function(e){var t,n;e.preventDefault(),""!==c&&c!==e.type||(t=h(this),n=f.controlNav.index(t),t.hasClass(r+"active")||(f.direction=n>f.currentSlide?"next":"prev",f.flexAnimate(n,f.vars.pauseOnAction))),""===c&&(c=e.type),u.setToClearWatchedEvent()})},setupManual:function(){f.controlNav=f.manualControls,u.controlNav.active(),f.controlNav.on(l,function(e){var t,n;e.preventDefault(),""!==c&&c!==e.type||(t=h(this),n=f.controlNav.index(t),t.hasClass(r+"active")||(n>f.currentSlide?f.direction="next":f.direction="prev",f.flexAnimate(n,f.vars.pauseOnAction))),""===c&&(c=e.type),u.setToClearWatchedEvent()})},set:function(){var e="thumbnails"===f.vars.controlNav?"img":"a";f.controlNav=h("."+r+"control-nav li "+e,f.controlsContainer||f)},active:function(){f.controlNav.removeClass(r+"active").eq(f.animatingTo).addClass(r+"active")},update:function(e,t){1<f.pagingCount&&"add"===e?f.controlNavScaffold.append(h('<li><a href="#">'+f.count+"</a></li>")):(1===f.pagingCount?f.controlNavScaffold.find("li"):f.controlNav.eq(t).closest("li")).remove(),u.controlNav.set(),1<f.pagingCount&&f.pagingCount!==f.controlNav.length?f.update(t,e):u.controlNav.active()}},directionNav:{setup:function(){var e=h('<ul class="'+r+'direction-nav"><li class="'+r+'nav-prev"><a class="'+r+'prev" href="#">'+f.vars.prevText+'</a></li><li class="'+r+'nav-next"><a class="'+r+'next" href="#">'+f.vars.nextText+"</a></li></ul>");f.customDirectionNav?f.directionNav=f.customDirectionNav:f.controlsContainer?(h(f.controlsContainer).append(e),f.directionNav=h("."+r+"direction-nav li a",f.controlsContainer)):(f.append(e),f.directionNav=h("."+r+"direction-nav li a",f)),u.directionNav.update(),f.directionNav.on(l,function(e){var t;e.preventDefault(),""!==c&&c!==e.type||(t=h(this).hasClass(r+"next")?f.getTarget("next"):f.getTarget("prev"),f.flexAnimate(t,f.vars.pauseOnAction)),""===c&&(c=e.type),u.setToClearWatchedEvent()})},update:function(){var e=r+"disabled";1===f.pagingCount?f.directionNav.addClass(e).attr("tabindex","-1"):f.vars.animationLoop?f.directionNav.removeClass(e).removeAttr("tabindex"):0===f.animatingTo?f.directionNav.removeClass(e).filter("."+r+"prev").addClass(e).attr("tabindex","-1"):f.animatingTo===f.last?f.directionNav.removeClass(e).filter("."+r+"next").addClass(e).attr("tabindex","-1"):f.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var e=h('<div class="'+r+'pauseplay"><a href="#"></a></div>');f.controlsContainer?(f.controlsContainer.append(e),f.pausePlay=h("."+r+"pauseplay a",f.controlsContainer)):(f.append(e),f.pausePlay=h("."+r+"pauseplay a",f)),u.pausePlay.update(f.vars.slideshow?r+"pause":r+"play"),f.pausePlay.on(l,function(e){e.preventDefault(),""!==c&&c!==e.type||(h(this).hasClass(r+"pause")?(f.manualPause=!0,f.manualPlay=!1,f.pause()):(f.manualPause=!1,f.manualPlay=!0,f.play())),""===c&&(c=e.type),u.setToClearWatchedEvent()})},update:function(e){"play"===e?f.pausePlay.removeClass(r+"pause").addClass(r+"play").html(f.vars.playText):f.pausePlay.removeClass(r+"play").addClass(r+"pause").html(f.vars.pauseText)}},touch:function(){var i,s,a,r,o,l,e,c,d,u=!1,t=0,n=0,h=0;m?(p.style.msTouchAction="none",p._gesture=new MSGesture,(p._gesture.target=p).addEventListener("MSPointerDown",function(e){e.stopPropagation(),f.animating?e.preventDefault():(f.pause(),p._gesture.addPointer(e.pointerId),h=0,r=v?f.h:f.w,l=Number(new Date),a=_&&g&&f.animatingTo===f.last?0:_&&g?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:_&&f.currentSlide===f.last?f.limit:_?(f.itemW+f.vars.itemMargin)*f.move*f.currentSlide:g?(f.last-f.currentSlide+f.cloneOffset)*r:(f.currentSlide+f.cloneOffset)*r)},!1),p._slider=f,p.addEventListener("MSGestureChange",function(e){e.stopPropagation();var t=e.target._slider;if(!t)return;var n=-e.translationX,i=-e.translationY;if(h+=v?i:n,o=(t.vars.rtl?-1:1)*h,u=v?Math.abs(h)<Math.abs(-n):Math.abs(h)<Math.abs(-i),e.detail===e.MSGESTURE_FLAG_INERTIA)return void setImmediate(function(){p._gesture.stop()});(!u||500<Number(new Date)-l)&&(e.preventDefault(),!b&&t.transitions&&(t.vars.animationLoop||(o=h/(0===t.currentSlide&&h<0||t.currentSlide===t.last&&0<h?Math.abs(h)/r+2:1)),t.setProps(a+o,"setTouch")))},!1),p.addEventListener("MSGestureEnd",function(e){e.stopPropagation();var t=e.target._slider;if(!t)return;{var n;t.animatingTo!==t.currentSlide||u||null===o||(e=0<(n=g?-o:o)?t.getTarget("next"):t.getTarget("prev"),t.canAdvance(e)&&(Number(new Date)-l<550&&50<Math.abs(n)||Math.abs(n)>r/2)?t.flexAnimate(e,t.vars.pauseOnAction):b||t.flexAnimate(t.currentSlide,t.vars.pauseOnAction,!0))}a=o=s=i=null,h=0},!1)):(e=function(e){f.animating?e.preventDefault():!window.navigator.msPointerEnabled&&1!==e.touches.length||(f.pause(),r=v?f.h:f.w,l=Number(new Date),t=e.touches[0].pageX,n=e.touches[0].pageY,a=_&&g&&f.animatingTo===f.last?0:_&&g?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:_&&f.currentSlide===f.last?f.limit:_?(f.itemW+f.vars.itemMargin)*f.move*f.currentSlide:g?(f.last-f.currentSlide+f.cloneOffset)*r:(f.currentSlide+f.cloneOffset)*r,i=v?n:t,s=v?t:n,p.addEventListener("touchmove",c,!1),p.addEventListener("touchend",d,!1))},c=function(e){t=e.touches[0].pageX,n=e.touches[0].pageY,o=v?i-n:(f.vars.rtl?-1:1)*(i-t);(!(u=v?Math.abs(o)<Math.abs(t-s):Math.abs(o)<Math.abs(n-s))||500<Number(new Date)-l)&&(e.preventDefault(),!b&&f.transitions&&(f.vars.animationLoop||(o/=0===f.currentSlide&&o<0||f.currentSlide===f.last&&0<o?Math.abs(o)/r+2:1),f.setProps(a+o,"setTouch")))},d=function(e){var t,n;p.removeEventListener("touchmove",c,!1),f.animatingTo!==f.currentSlide||u||null===o||(n=0<(t=g?-o:o)?f.getTarget("next"):f.getTarget("prev"),f.canAdvance(n)&&(Number(new Date)-l<550&&50<Math.abs(t)||Math.abs(t)>r/2)?f.flexAnimate(n,f.vars.pauseOnAction):b||f.flexAnimate(f.currentSlide,f.vars.pauseOnAction,!0)),p.removeEventListener("touchend",d,!1),a=o=s=i=null},p.addEventListener("touchstart",e,!1))},resize:function(){!f.animating&&f.is(":visible")&&(_||f.doMath(),b?u.smoothHeight():_?(f.slides.width(f.computedW),f.update(f.pagingCount),f.setProps()):v?(f.viewport.height(f.h),f.setProps(f.h,"setTotal")):(f.vars.smoothHeight&&u.smoothHeight(),f.newSlides.width(f.computedW),f.setProps(f.computedW,"setTotal")))},smoothHeight:function(e){var t;v&&!b||(t=b?f:f.viewport,e?t.animate({height:f.slides.eq(f.animatingTo).innerHeight()},e):t.innerHeight(f.slides.eq(f.animatingTo).innerHeight()))},sync:function(e){var t=h(f.vars.sync).data("flexslider"),n=f.animatingTo;switch(e){case"animate":t.flexAnimate(n,f.vars.pauseOnAction,!1,!0);break;case"play":t.playing||t.asNav||t.play();break;case"pause":t.pause()}},uniqueID:function(e){return e.filter("[id]").add(e.find("[id]")).each(function(){var e=h(this);e.attr("id",e.attr("id")+"_clone")}),e},pauseInvisible:{visProp:null,init:function(){var e=u.pauseInvisible.getHiddenProp();e&&(e=e.replace(/[H|h]idden/,"")+"visibilitychange",document.addEventListener(e,function(){u.pauseInvisible.isHidden()?f.startTimeout?clearTimeout(f.startTimeout):f.pause():!f.started&&0<f.vars.initDelay?setTimeout(f.play,f.vars.initDelay):f.play()}))},isHidden:function(){var e=u.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(t),t=setTimeout(function(){c=""},3e3)}},f.flexAnimate=function(e,t,n,i,s){if(f.vars.animationLoop||e===f.currentSlide||(f.direction=e>f.currentSlide?"next":"prev"),d&&1===f.pagingCount&&(f.direction=f.currentItem<e?"next":"prev"),!f.animating&&(f.canAdvance(e,s)||n)&&f.is(":visible")){if(d&&i){i=h(f.vars.asNavFor).data("flexslider");if(f.atEnd=0===e||e===f.count-1,i.flexAnimate(e,!0,!1,!0,s),f.direction=f.currentItem<e?"next":"prev",i.direction=f.direction,Math.ceil((e+1)/f.visible)-1===f.currentSlide||0===e)return f.currentItem=e,f.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),!1;f.currentItem=e,f.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),e=Math.floor(e/f.visible)}var a;f.animating=!0,f.animatingTo=e,t&&f.pause(),f.vars.before(f),f.syncExists&&!s&&u.sync("animate"),f.vars.controlNav&&u.controlNav.active(),_||f.slides.removeClass(r+"active-slide").eq(e).addClass(r+"active-slide"),f.atEnd=0===e||e===f.last,f.vars.directionNav&&u.directionNav.update(),e===f.last&&(f.vars.end(f),f.vars.animationLoop||f.pause()),b?o?(f.slides.eq(f.currentSlide).css({opacity:0,zIndex:1}),f.slides.eq(e).css({opacity:1,zIndex:2}),f.wrapup(a)):(f.slides.eq(f.currentSlide).css({zIndex:1}).animate({opacity:0},f.vars.animationSpeed,f.vars.easing),f.slides.eq(e).css({zIndex:2}).animate({opacity:1},f.vars.animationSpeed,f.vars.easing,f.wrapup)):(a=v?f.slides.filter(":first").height():f.computedW,e=_?(s=f.vars.itemMargin,(s=(f.itemW+s)*f.move*f.animatingTo)>f.limit&&1!==f.visible?f.limit:s):0===f.currentSlide&&e===f.count-1&&f.vars.animationLoop&&"next"!==f.direction?g?(f.count+f.cloneOffset)*a:0:f.currentSlide===f.last&&0===e&&f.vars.animationLoop&&"prev"!==f.direction?g?0:(f.count+1)*a:g?(f.count-1-e+f.cloneOffset)*a:(e+f.cloneOffset)*a,f.setProps(e,"",f.vars.animationSpeed),f.transitions?(f.vars.animationLoop&&f.atEnd||(f.animating=!1,f.currentSlide=f.animatingTo),f.container.off("webkitTransitionEnd transitionend"),f.container.on("webkitTransitionEnd transitionend",function(){clearTimeout(f.ensureAnimationEnd),f.wrapup(a)}),clearTimeout(f.ensureAnimationEnd),f.ensureAnimationEnd=setTimeout(function(){f.wrapup(a)},f.vars.animationSpeed+100)):f.container.animate(f.args,f.vars.animationSpeed,f.vars.easing,function(){f.wrapup(a)})),f.vars.smoothHeight&&u.smoothHeight(f.vars.animationSpeed)}},f.wrapup=function(e){b||_||(0===f.currentSlide&&f.animatingTo===f.last&&f.vars.animationLoop?f.setProps(e,"jumpEnd"):f.currentSlide===f.last&&0===f.animatingTo&&f.vars.animationLoop&&f.setProps(e,"jumpStart")),f.animating=!1,f.currentSlide=f.animatingTo,f.vars.after(f)},f.animateSlides=function(){!f.animating&&n&&f.flexAnimate(f.getTarget("next"))},f.pause=function(){clearInterval(f.animatedSlides),f.animatedSlides=null,f.playing=!1,f.vars.pausePlay&&u.pausePlay.update("play"),f.syncExists&&u.sync("pause")},f.play=function(){f.playing&&clearInterval(f.animatedSlides),f.animatedSlides=f.animatedSlides||setInterval(f.animateSlides,f.vars.slideshowSpeed),f.started=f.playing=!0,f.vars.pausePlay&&u.pausePlay.update("pause"),f.syncExists&&u.sync("play")},f.stop=function(){f.pause(),f.stopped=!0},f.canAdvance=function(e,t){var n=d?f.pagingCount-1:f.last;return!!t||(d&&f.currentItem===f.count-1&&0===e&&"prev"===f.direction||(!d||0!==f.currentItem||e!==f.pagingCount-1||"next"===f.direction)&&((e!==f.currentSlide||d)&&(!!f.vars.animationLoop||(!f.atEnd||0!==f.currentSlide||e!==n||"next"===f.direction)&&(!f.atEnd||f.currentSlide!==n||0!==e||"next"!==f.direction))))},f.getTarget=function(e){return"next"===(f.direction=e)?f.currentSlide===f.last?0:f.currentSlide+1:0===f.currentSlide?f.last:f.currentSlide-1},f.setProps=function(e,t,n){var i,s=(i=e||(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo,function(){if(_)return"setTouch"===t?e:g&&f.animatingTo===f.last?0:g?f.limit-(f.itemW+f.vars.itemMargin)*f.move*f.animatingTo:f.animatingTo===f.last?f.limit:i;switch(t){case"setTotal":return g?(f.count-1-f.currentSlide+f.cloneOffset)*e:(f.currentSlide+f.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return g?e:f.count*e;case"jumpStart":return g?f.count*e:e;default:return e}}()*(f.vars.rtl?1:-1)+"px");f.transitions&&(s=v?"translate3d(0,"+s+",0)":"translate3d("+(f.vars.rtl?-1:1)*parseInt(s)+"px,0,0)",n=void 0!==n?n/1e3+"s":"0s",f.container.css("-"+f.pfx+"-transition-duration",n),f.container.css("transition-duration",n)),f.args[f.prop]=s,!f.transitions&&void 0!==n||f.container.css(f.args),f.container.css("transform",s)},f.setup=function(e){var t,n;b?(f.vars.rtl?f.slides.css({width:"100%",float:"right",marginLeft:"-100%",position:"relative"}):f.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===e&&(o?f.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+f.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(f.currentSlide).css({opacity:1,zIndex:2}):0==f.vars.fadeFirstSlide?f.slides.css({opacity:0,display:"block",zIndex:1}).eq(f.currentSlide).css({zIndex:2}).css({opacity:1}):f.slides.css({opacity:0,display:"block",zIndex:1}).eq(f.currentSlide).css({zIndex:2}).animate({opacity:1},f.vars.animationSpeed,f.vars.easing)),f.vars.smoothHeight&&u.smoothHeight()):("init"===e&&(f.viewport=h('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(f).append(f.container),f.cloneCount=0,f.cloneOffset=0,g&&(n=h.makeArray(f.slides).reverse(),f.slides=h(n),f.container.empty().append(f.slides))),f.vars.animationLoop&&!_&&(f.cloneCount=2,f.cloneOffset=1,"init"!==e&&f.container.find(".clone").remove(),f.container.append(u.uniqueID(f.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(u.uniqueID(f.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),f.newSlides=h(f.vars.selector,f),t=g?f.count-1-f.currentSlide+f.cloneOffset:f.currentSlide+f.cloneOffset,v&&!_?(f.container.height(200*(f.count+f.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){f.newSlides.css({display:"block"}),f.doMath(),f.viewport.height(f.h),f.setProps(t*f.h,"init")},"init"===e?100:0)):(f.container.width(200*(f.count+f.cloneCount)+"%"),f.setProps(t*f.computedW,"init"),setTimeout(function(){f.doMath(),f.vars.rtl,f.newSlides.css({width:f.computedW,marginRight:f.computedM,float:"left",display:"block"}),f.vars.smoothHeight&&u.smoothHeight()},"init"===e?100:0))),_||f.slides.removeClass(r+"active-slide").eq(f.currentSlide).addClass(r+"active-slide"),f.vars.init(f)},f.doMath=function(){var e=f.slides.first(),t=f.vars.itemMargin,n=f.vars.minItems,i=f.vars.maxItems;f.w=(void 0===f.viewport?f:f.viewport).width(),f.h=e.height(),f.boxPadding=e.outerWidth()-e.width(),_?(f.itemT=f.vars.itemWidth+t,f.itemM=t,f.minW=n?n*f.itemT:f.w,f.maxW=i?i*f.itemT-t:f.w,f.itemW=f.minW>f.w?(f.w-t*(n-1))/n:f.maxW<f.w?(f.w-t*(i-1))/i:f.vars.itemWidth>f.w?f.w:f.vars.itemWidth,f.visible=Math.floor(f.w/f.itemW),f.move=0<f.vars.move&&f.vars.move<f.visible?f.vars.move:f.visible,f.pagingCount=Math.ceil((f.count-f.visible)/f.move+1),f.last=f.pagingCount-1,f.limit=1===f.pagingCount?0:f.vars.itemWidth>f.w?f.itemW*(f.count-1)+t*(f.count-1):(f.itemW+t)*f.count-f.w-t):(f.itemW=f.w,f.itemM=t,f.pagingCount=f.count,f.last=f.count-1),f.computedW=f.itemW-f.boxPadding,f.computedM=f.itemM},f.update=function(e,t){f.doMath(),_||(e<f.currentSlide?f.currentSlide+=1:e<=f.currentSlide&&0!==e&&--f.currentSlide,f.animatingTo=f.currentSlide),f.vars.controlNav&&!f.manualControls&&("add"===t&&!_||f.pagingCount>f.controlNav.length?u.controlNav.update("add"):("remove"===t&&!_||f.pagingCount<f.controlNav.length)&&(_&&f.currentSlide>f.last&&(--f.currentSlide,--f.animatingTo),u.controlNav.update("remove",f.last))),f.vars.directionNav&&u.directionNav.update()},f.addSlide=function(e,t){e=h(e);f.count+=1,f.last=f.count-1,v&&g?void 0!==t?f.slides.eq(f.count-t).after(e):f.container.prepend(e):void 0!==t?f.slides.eq(t).before(e):f.container.append(e),f.update(t,"add"),f.slides=h(f.vars.selector+":not(.clone)",f),f.setup(),f.vars.added(f)},f.removeSlide=function(e){var t=isNaN(e)?f.slides.index(h(e)):e;--f.count,f.last=f.count-1,(isNaN(e)?h(e,f.slides):v&&g?f.slides.eq(f.last):f.slides.eq(e)).remove(),f.doMath(),f.update(t,"remove"),f.slides=h(f.vars.selector+":not(.clone)",f),f.setup(),f.vars.removed(f)},u.init()},h(window).on({blur:function(e){n=!1},focus:function(e){n=!0}}),h.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){},rtl:!1},h.fn.flexslider=function(n){if(void 0===n&&(n={}),"object"==typeof n)return this.each(function(){var e=h(this),t=n.selector||".slides > li",t=e.find(t);1===t.length&&!1===n.allowOneSlide||0===t.length?(t.fadeIn(400),n.start&&n.start(e)):void 0===e.data("flexslider")&&new h.flexslider(this,n)});var e=h(this).data("flexslider");switch(n){case"play":e.play();break;case"pause":e.pause();break;case"stop":e.stop();break;case"next":e.flexAnimate(e.getTarget("next"),!0);break;case"prev":case"previous":e.flexAnimate(e.getTarget("prev"),!0);break;default:"number"==typeof n&&e.flexAnimate(n,!0)}}}(jQuery),function(t){mutate_event_stack=[{name:"width",handler:function(e){return n={el:e},t(n.el).data("mutate-width")||t(n.el).data("mutate-width",t(n.el).width()),!(!t(n.el).data("mutate-width")||t(n.el).width()==t(n.el).data("mutate-width"))&&(t(n.el).data("mutate-width",t(n.el).width()),!0)}},{name:"height",handler:function(e){return element=e,t(element).data("mutate-height")||t(element).data("mutate-height",t(element).height()),t(element).data("mutate-height")&&t(element).height()!=t(element).data("mutate-height")?(t(element).data("mutate-height",t(element).height()),!0):void 0}},{name:"top",handler:function(e){return t(e).data("mutate-top")||t(e).data("mutate-top",t(e).css("top")),t(e).data("mutate-top")&&t(e).css("top")!=t(e).data("mutate-top")?(t(e).data("mutate-top",t(e).css("top")),!0):void 0}},{name:"bottom",handler:function(e){return t(e).data("mutate-bottom")||t(e).data("mutate-bottom",t(e).css("bottom")),t(e).data("mutate-bottom")&&t(e).css("bottom")!=t(e).data("mutate-bottom")?(t(e).data("mutate-bottom",t(e).css("bottom")),!0):void 0}},{name:"right",handler:function(e){return t(e).data("mutate-right")||t(e).data("mutate-right",t(e).css("right")),t(e).data("mutate-right")&&t(e).css("right")!=t(e).data("mutate-right")?(t(e).data("mutate-right",t(e).css("right")),!0):void 0}},{name:"left",handler:function(e){return t(e).data("mutate-left")||t(e).data("mutate-left",t(e).css("left")),t(e).data("mutate-left")&&t(e).css("left")!=t(e).data("mutate-left")?(t(e).data("mutate-left",t(e).css("left")),!0):void 0}},{name:"hide",handler:function(e){return!!t(e).is(":hidden")||void 0}},{name:"show",handler:function(e){return!!t(e).is(":visible")||void 0}},{name:"scrollHeight",handler:function(e){return t(e).data("prev-scrollHeight")||t(e).data("prev-scrollHeight",t(e)[0].scrollHeight),t(e).data("prev-scrollHeight")&&t(e)[0].scrollHeight!=t(e).data("prev-scrollHeight")?(t(e).data("prev-scrollHeight",t(e)[0].scrollHeight),!0):void 0}},{name:"scrollWidth",handler:function(e){return t(e).data("prev-scrollWidth")||t(e).data("prev-scrollWidth",t(e)[0].scrollWidth),t(e).data("prev-scrollWidth")&&t(e)[0].scrollWidth!=t(e).data("prev-scrollWidth")?(t(e).data("prev-scrollWidth",t(e)[0].scrollWidth),!0):void 0}},{name:"scrollTop",handler:function(e){return t(e).data("prev-scrollTop")||t(e).data("prev-scrollTop",t(e)[0].scrollTop()),t(e).data("prev-scrollTop")&&t(e)[0].scrollTop()!=t(e).data("prev-scrollTop")?(t(e).data("prev-scrollTop",t(e)[0].scrollTop()),!0):void 0}},{name:"scrollLeft",handler:function(e){return t(e).data("prev-scrollLeft")||t(e).data("prev-scrollLeft",t(e)[0].scrollLeft()),t(e).data("prev-scrollLeft")&&t(e)[0].scrollLeft()!=t(e).data("prev-scrollLeft")?(t(e).data("prev-scrollLeft",t(e)[0].scrollLeft()),!0):void 0}}]}(jQuery),function(t){mutate={speed:10,event_stack:mutate_event_stack,stack:[],events:{},timeout:!1,runawayLimit:300,iterations:0,add_event:function(e){mutate.events[e.name]=e.handler},add:function(e,t,n,i){mutate.stack[mutate.stack.length]={event_name:e,selector:t,callback:n,false_callback:i}},reset:function(){var i=mutate;mutate.iterations>mutate.runawayLimit?mutate.unwatch():("undefined"!=i.event_stack&&i.event_stack.length&&t.each(i.event_stack,function(e,t){mutate.add_event(t)}),i.event_stack=[],t.each(i.stack,function(e,n){t(n.selector).each(function(e,t){!0===i.events[n.event_name](t)?n.callback&&n.callback(t,n):n.false_callback&&n.false_callback(t,n)})}),mutate.iterations++)},watch:function(){mutate.timeout=setInterval(mutate.reset,mutate.speed)},unwatch:function(){clearInterval(mutate.timeout)}},t.fn.extend({mutate:function(){var n=arguments[1],i=this,s=arguments[2]||function(){};return"extend"==arguments[0].toLowerCase()?mutate.add_event(n):t.each(t.trim(arguments[0]).split(" "),function(e,t){mutate.add(t,i,n,s)}),this}})}(jQuery),function(){var o,e,s,r,n=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty;function t(){this.options_index=0,this.parsed=[]}function i(e,t){this.form_field=e,this.options=null!=t?t:{},this.label_click_handler=n(this.label_click_handler,this),i.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}function l(){return l.__super__.constructor.apply(this,arguments)}t.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},t.prototype.add_group=function(e){var t,n,i,s,a,r=this.parsed.length;for(this.parsed.push({array_index:r,group:!0,label:e.label,title:e.title||void 0,children:0,disabled:e.disabled,classes:e.className}),a=[],t=0,n=(s=e.childNodes).length;t<n;t++)i=s[t],a.push(this.add_option(i,r,e.disabled));return a},t.prototype.add_option=function(e,t,n){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title||void 0,selected:e.selected,disabled:!0===n?n:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},(r=t).select_to_array=function(e){for(var t,n=new r,i=e.childNodes,s=0,a=i.length;s<a;s++)t=i[s],n.add_node(t);return n.parsed},i.prototype.set_default_values=function(){var t,n;return this.click_test_action=(t=this,function(e){return t.test_active_click(e)}),this.activate_action=(n=this,function(e){return n.activate_field(e)}),this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.is_rtl=this.options.rtl||/\bchosen-rtl\b/.test(this.form_field.className),this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1,this.hide_results_on_select=null==this.options.hide_results_on_select||this.options.hide_results_on_select},i.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||i.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||i.default_single_text,this.default_text=this.escape_html(this.default_text),this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||i.default_no_result_text},i.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+this.escape_html(e.group_label)+"</b>"+e.html:e.html},i.prototype.mouse_enter=function(){return this.mouse_on_container=!0},i.prototype.mouse_leave=function(){return this.mouse_on_container=!1},i.prototype.input_focus=function(e){if(this.is_multiple){if(!this.active_field)return setTimeout((t=this,function(){return t.container_mousedown()}),50)}else if(!this.active_field)return this.activate_field();var t},i.prototype.input_blur=function(e){if(!this.mouse_on_container)return this.active_field=!1,setTimeout((t=this,function(){return t.blur_test()}),100);var t},i.prototype.label_click_handler=function(e){return this.is_multiple?this.container_mousedown(e):this.activate_field()},i.prototype.results_option_build=function(e){for(var t,n,i="",s=0,a=this.results_data,r=0,o=a.length;r<o&&((n="")!==(n=(t=a[r]).group?this.result_add_group(t):this.result_add_option(t))&&(s++,i+=n),null!=e&&e.first&&(t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(t))),!(s>=this.max_shown_results));r++);return i},i.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),e.style&&(n.style.cssText=e.style),n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.highlighted_html||e.html,e.title&&(n.title=e.title),this.outerHTML(n)):""},i.prototype.result_add_group=function(e){var t,n;return(e.search_match||e.group_match)&&0<e.active_options?((t=[]).push("group-result"),e.classes&&t.push(e.classes),(n=document.createElement("li")).className=t.join(" "),n.innerHTML=e.highlighted_html||this.escape_html(e.label),e.title&&(n.title=e.title),this.outerHTML(n)):""},i.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},i.prototype.reset_single_select_options=function(){for(var e,t=this.results_data,n=[],i=0,s=t.length;i<s;i++)(e=t[i]).selected?n.push(e.selected=!1):n.push(void 0);return n},i.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},i.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},i.prototype.winnow_results=function(e){var t,n,i,s,a,r,o,l,c,d,u,h,p;for(this.no_results_clear(),c=0,t=(r=this.get_search_text()).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=this.get_search_regex(t),n=0,i=(o=this.results_data).length;n<i;n++)(s=o[n]).search_match=!1,d=null,s.highlighted_html="",this.include_option_in_results(s)&&(s.group&&(s.group_match=!1,s.active_options=0),null!=s.group_array_index&&this.results_data[s.group_array_index]&&(0===(d=this.results_data[s.group_array_index]).active_options&&d.search_match&&(c+=1),d.active_options+=1),p=s.group?s.label:s.text,s.group&&!this.group_search||(u=this.search_string_match(p,l),s.search_match=null!=u,s.search_match&&!s.group&&(c+=1),s.search_match?(r.length&&(h=u.index,a=p.slice(0,h),u=p.slice(h,h+r.length),h=p.slice(h+r.length),s.highlighted_html=this.escape_html(a)+"<em>"+this.escape_html(u)+"</em>"+this.escape_html(h)),null!=d&&(d.group_match=!0)):null!=s.group_array_index&&this.results_data[s.group_array_index].search_match&&(s.search_match=!0)));return this.result_clear_highlight(),c<1&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),null!=e&&e.skip_highlight?void 0:this.winnow_results_set_highlight())},i.prototype.get_search_regex=function(e){var t=this.search_contains?e:"(^|\\s|\\b)"+e+"[^\\s]*";return this.enable_split_word_search||this.search_contains||(t="^"+t),e=this.case_sensitive_search?"":"i",new RegExp(t,e)},i.prototype.search_string_match=function(e,t){e=t.exec(e);return!this.search_contains&&null!=e&&e[1]&&(e.index+=1),e},i.prototype.choices_count=function(){var e,t,n;if(null!=this.selected_option_count)return this.selected_option_count;for(e=this.selected_option_count=0,t=(n=this.form_field.options).length;e<t;e++)n[e].selected&&(this.selected_option_count+=1);return this.selected_option_count},i.prototype.choices_click=function(e){if(e.preventDefault(),this.activate_field(),!this.results_showing&&!this.is_disabled)return this.results_show()},i.prototype.keydown_checker=function(e){var t=null!=(t=e.which)?t:e.keyCode;switch(this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.get_search_field_value().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:case 27:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.keyup_checker=function(e){var t=null!=(t=e.which)?t:e.keyCode;switch(this.search_field_scale(),t){case 8:this.is_multiple&&this.backstroke_length<1&&0<this.choices_count()?this.keydown_backstroke():this.pending_backstroke||(this.result_clear_highlight(),this.results_search());break;case 13:e.preventDefault(),this.results_showing&&this.result_select(e);break;case 27:this.results_showing&&this.results_hide();break;case 9:case 16:case 17:case 18:case 38:case 40:case 91:break;default:this.results_search()}},i.prototype.clipboard_event_checker=function(e){var t;if(!this.is_disabled)return setTimeout((t=this,function(){return t.results_search()}),50)},i.prototype.container_width=function(){return null!=this.options.width?this.options.width:this.form_field.offsetWidth+"px"},i.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},i.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},i.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},i.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},i.prototype.outerHTML=function(e){var t;return e.outerHTML||((t=document.createElement("div")).appendChild(e),t.innerHTML)},i.prototype.get_single_html=function(){return'<a class="chosen-single chosen-default">\n  <span>'+this.default_text+'</span>\n  <div><b></b></div>\n</a>\n<div class="chosen-drop">\n  <div class="chosen-search">\n    <input class="chosen-search-input" type="text" autocomplete="off" />\n  </div>\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_multi_html=function(){return'<ul class="chosen-choices">\n  <li class="search-field">\n    <input class="chosen-search-input" type="text" autocomplete="off" value="'+this.default_text+'" />\n  </li>\n</ul>\n<div class="chosen-drop">\n  <ul class="chosen-results"></ul>\n</div>'},i.prototype.get_no_results_html=function(e){return'<li class="no-results">\n  '+this.results_none_found+" <span>"+this.escape_html(e)+"</span>\n</li>"},i.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?8<=document.documentMode:!(/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent))},i.default_multiple_text="Select Some Options",i.default_single_text="Select an Option",i.default_no_result_text="No results match",e=i,(o=jQuery).fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(e){var t=o(this),n=t.data("chosen");"destroy"!==i?n instanceof s||t.data("chosen",new s(this,i)):n instanceof s&&n.destroy()}):this}}),function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(l,e),l.prototype.setup=function(){return this.form_field_jq=o(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex},l.prototype.set_up_html=function(){var e=["chosen-container"];return e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),e={class:e.join(" "),title:this.form_field.title},this.form_field.id.length&&(e.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=o("<div />",e),this.container.width(this.container_width()),this.is_multiple?this.container.html(this.get_multi_html()):this.container.html(this.get_single_html()),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},l.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},l.prototype.register_observers=function(){var t,n,i,s,a,r,o,l,c,d,u,h,p,f,m,v,g,_,b,y,w,x,C,k;return this.container.on("touchstart.chosen",(t=this,function(e){t.container_mousedown(e)})),this.container.on("touchend.chosen",(n=this,function(e){n.container_mouseup(e)})),this.container.on("mousedown.chosen",(i=this,function(e){i.container_mousedown(e)})),this.container.on("mouseup.chosen",(s=this,function(e){s.container_mouseup(e)})),this.container.on("mouseenter.chosen",(a=this,function(e){a.mouse_enter(e)})),this.container.on("mouseleave.chosen",(r=this,function(e){r.mouse_leave(e)})),this.search_results.on("mouseup.chosen",(o=this,function(e){o.search_results_mouseup(e)})),this.search_results.on("mouseover.chosen",(l=this,function(e){l.search_results_mouseover(e)})),this.search_results.on("mouseout.chosen",(c=this,function(e){c.search_results_mouseout(e)})),this.search_results.on("mousewheel.chosen DOMMouseScroll.chosen",(d=this,function(e){d.search_results_mousewheel(e)})),this.search_results.on("touchstart.chosen",(u=this,function(e){u.search_results_touchstart(e)})),this.search_results.on("touchmove.chosen",(h=this,function(e){h.search_results_touchmove(e)})),this.search_results.on("touchend.chosen",(p=this,function(e){p.search_results_touchend(e)})),this.form_field_jq.on("chosen:updated.chosen",(f=this,function(e){f.results_update_field(e)})),this.form_field_jq.on("chosen:activate.chosen",(m=this,function(e){m.activate_field(e)})),this.form_field_jq.on("chosen:open.chosen",(v=this,function(e){v.container_mousedown(e)})),this.form_field_jq.on("chosen:close.chosen",(g=this,function(e){g.close_field(e)})),this.search_field.on("blur.chosen",(_=this,function(e){_.input_blur(e)})),this.search_field.on("keyup.chosen",(b=this,function(e){b.keyup_checker(e)})),this.search_field.on("keydown.chosen",(y=this,function(e){y.keydown_checker(e)})),this.search_field.on("focus.chosen",(w=this,function(e){w.input_focus(e)})),this.search_field.on("cut.chosen",(x=this,function(e){x.clipboard_event_checker(e)})),this.search_field.on("paste.chosen",(C=this,function(e){C.clipboard_event_checker(e)})),this.is_multiple?this.search_choices.on("click.chosen",(k=this,function(e){k.choices_click(e)})):this.container.on("click.chosen",function(e){e.preventDefault()})},l.prototype.destroy=function(){return o(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),0<this.form_field_label.length&&this.form_field_label.off("click.chosen"),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},l.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field.disabled||this.form_field_jq.parents("fieldset").is(":disabled"),this.container.toggleClass("chosen-disabled",this.is_disabled),this.search_field[0].disabled=this.is_disabled,this.is_multiple||this.selected_item.off("focus.chosen",this.activate_field),this.is_disabled?this.close_field():this.is_multiple?void 0:this.selected_item.on("focus.chosen",this.activate_field)},l.prototype.container_mousedown=function(e){var t;if(!this.is_disabled)return!e||"mousedown"!==(t=e.type)&&"touchstart"!==t||this.results_showing||e.preventDefault(),null!=e&&o(e.target).hasClass("search-choice-close")?void 0:(this.active_field?this.is_multiple||!e||o(e.target)[0]!==this.selected_item[0]&&!o(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),o(this.container[0].ownerDocument).on("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},l.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},l.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},l.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},l.prototype.close_field=function(){return o(this.container[0].ownerDocument).off("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale(),this.search_field.blur()},l.prototype.activate_field=function(){if(!this.is_disabled)return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},l.prototype.test_active_click=function(e){e=o(e.target).closest(".chosen-container");return e.length&&this.container[0]===e[0]?this.active_field=!0:this.close_field()},l.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},l.prototype.result_do_highlight=function(e){var t,n,i;if(e.length)return this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),(n=parseInt(this.search_results.css("maxHeight"),10))+(i=this.search_results.scrollTop())<=(e=(t=this.result_highlight.position().top+this.search_results.scrollTop())+this.result_highlight.outerHeight())?this.search_results.scrollTop(0<e-n?e-n:0):t<i?this.search_results.scrollTop(t):void 0},l.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},l.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.get_search_field_value()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},l.prototype.update_results_content=function(e){return this.search_results.html(e)},l.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},l.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},l.prototype.set_label_behavior=function(){if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=o("label[for='"+this.form_field.id+"']")),0<this.form_field_label.length)return this.form_field_label.on("click.chosen",this.label_click_handler)},l.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},l.prototype.search_results_mouseup=function(e){var t=o(e.target).hasClass("active-result")?o(e.target):o(e.target).parents(".active-result").first();if(t.length)return this.result_highlight=t,this.result_select(e),this.search_field.focus()},l.prototype.search_results_mouseover=function(e){e=o(e.target).hasClass("active-result")?o(e.target):o(e.target).parents(".active-result").first();if(e)return this.result_do_highlight(e)},l.prototype.search_results_mouseout=function(e){if(o(e.target).hasClass("active-result")||o(e.target).parents(".active-result").first())return this.result_clear_highlight()},l.prototype.choice_build=function(e){var t,n=o("<li />",{class:"search-choice"}).html("<span>"+this.choice_label(e)+"</span>");return e.disabled?n.addClass("search-choice-disabled"):((e=o("<a />",{class:"search-choice-close","data-option-array-index":e.array_index})).on("click.chosen",(t=this,function(e){return t.choice_destroy_link_click(e)})),n.append(e)),this.search_container.before(n)},l.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(o(e.target))},l.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.active_field?this.search_field.focus():this.show_search_field_default(),this.is_multiple&&0<this.choices_count()&&this.get_search_field_value().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},l.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.trigger_form_field_change(),this.active_field)return this.results_hide()},l.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},l.prototype.result_select=function(e){var t;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),(t=this.results_data[t[0].getAttribute("data-option-array-index")]).selected=!0,this.form_field.options[t.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(t):this.single_set_selected_text(this.choice_label(t)),this.is_multiple&&(!this.hide_results_on_select||e.metaKey||e.ctrlKey)?e.metaKey||e.ctrlKey?this.winnow_results({skip_highlight:!0}):(this.search_field.val(""),this.winnow_results()):(this.results_hide(),this.show_search_field_default()),!this.is_multiple&&this.form_field.selectedIndex===this.current_selectedIndex||this.trigger_form_field_change({selected:this.form_field.options[t.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())},l.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},l.prototype.result_deselect=function(e){e=this.results_data[e];return!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.trigger_form_field_change({deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},l.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},l.prototype.get_search_field_value=function(){return this.search_field.val()},l.prototype.get_search_text=function(){return o.trim(this.get_search_field_value())},l.prototype.escape_html=function(e){return o("<div/>").text(e).html()},l.prototype.winnow_results_set_highlight=function(){var e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=(e.length?e:this.search_results.find(".active-result")).first();if(null!=e)return this.result_do_highlight(e)},l.prototype.no_results=function(e){e=this.get_no_results_html(e);return this.search_results.append(e),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},l.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},l.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},l.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result")).length?this.result_do_highlight(e.first()):(0<this.choices_count()&&this.results_hide(),this.result_clear_highlight()):void 0:this.results_show()},l.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last()).length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0},l.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},l.prototype.search_field_scale=function(){var e,t,n,i,s,a,r;if(this.is_multiple){for(s={position:"absolute",left:"-1000px",top:"-1000px",display:"none",whiteSpace:"pre"},t=0,n=(a=["fontSize","fontStyle","fontWeight","fontFamily","lineHeight","textTransform","letterSpacing"]).length;t<n;t++)s[i=a[t]]=this.search_field.css(i);return(e=o("<div />").css(s)).text(this.get_search_field_value()),o("body").append(e),r=e.width()+25,e.remove(),this.container.is(":visible")&&(r=Math.min(this.container.outerWidth()-10,r)),this.search_field.width(r)}},l.prototype.trigger_form_field_change=function(e){return this.form_field_jq.trigger("input",e),this.form_field_jq.trigger("change",e)},s=l}.call(this),Modernizr.addTest("svgasimg",document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"));var app={};app.something=void app.drawer,function(d){var t,e,n,i;window.console&&void 0!==window.console||(window.console={log:function(){},warn:function(){},error:function(){}}),d(function(){d.fn.imperial.loadModules(),d.fn.imperial.loadHandlers()}),d.fn.imperial=(t="/assets/website/js/require/",e="/assets/website/stylesheets/css/includes/",n=function(e){0===d("#drawer").length&&(e.preventDefault(),void 0===d.fn.incorrectContent?d.getScript(t+"incorrectContent.jQuery.min.js"):d.fn.incorrectContent.init())},i=function(){var e,t,n;"undefined"!=typeof Sentry&&(e=document.domain,t="live","localhost"!==e?("www-staging.imperial.ac.uk"===e?t="staging":"wwwtest.imperial.ac.uk"===e||"test-staging.imperial.ac.uk"===e?t="test":"wwwdev.imperial.ac.uk"!==e&&"dev-staging.imperial.ac.uk"!==e||(t="development"),n=d("script[src*='application']").attr("src").split("?v=")[1],d.fn.log("loadSentry",t,n),Sentry.forceLoad(),Sentry.onLoad(function(){var e={environment:t,blacklistUrls:["/terminalfour/SiteManager"]};"live"===t&&(e.sampleRate=.25),void 0!==n&&(e.release=n),Sentry.init(e)})):t="local")},{loadModules:function(){d.fn.log("loadModules"),i(),d.fn.require(t+"imperialVideo.jquery.min.js",d(".video-player")).done(function(){d.fn.imperialVideo.init(),d.fn.require(t+"imperialVideoPlaylist.jquery.min.js",d(".video-playlist")).done(function(){d.fn.imperialVideoPlaylist.init()})}),d.fn.require(t+"unistats.jquery.min.js",d(".kis-widget")),d.fn.require(t+"searchGSA.jquery.min.js",d("#gsa-search-xml")),d.fn.require(t+"search.jquery.min.js",d(".search")),d.fn.require(t+"dss-functions.min.js",d("#dss-mainview")),d.fn.require(t+"reading-list-covers.min.js",d(".reading-list")),d.fn.resPubStopAutoload=!0,d.fn.require("/assets/research-publications/js/script.js",d(".respub")).done(function(){d.fn.resPub.init({template:"/html/t4/",selectors:{container:"body",citationparent:"body"}})}),d.fn.require(t+"peoplelist.min.js",d("#searchform-people-grid,#searchform-people-list")),d.fn.require(e+"mailchimp-embed.css",d(".mailchimp-form-embed")),d(".seamless-iframe iframe").length&&d(".social").replaceWith(d("<div>",{class:"social-removed"})),d.fn.require(t+"seamless.jquery.min.js",d(".seamless-iframe iframe")).done(function(){d.fn.seamlessInterface.init({path:t})}),d.fn.require(t+"vendor/bootstrap/bootstrap.min.js",d(".sitemap-template")).done(function(){d.fn.require(t+"sitemap.jquery.min.js")}),d.fn.require(t+"newsevents-page.jquery.min.js",d(".news-events.page")),d.fn.require(t+"vendor/query.min.js",d(".searchable_listing--events")).done(function(){d.fn.require(t+"event-search.jquery.min.js")}),d.fn.require(t+"vendor/flatpickr.min.js",d(".event-calendar")).done(function(){d.fn.require(e+"flatpickr.css").done(function(){d.fn.require(t+"eventCalendar.min.js")})}),d.fn.require(t+"vendor/bootstrap/bootstrap.min.js",d(".course-template")).done(function(){d.fn.require(t+"coursePageNav.jquery.min.js")}),d.fn.require(t+"vendor/query.min.js",d(".container.recruitment")).done(function(){d.fn.require(t+"recruitment.jquery.min.js")}),d.fn.require(t+"vendor/jquery3-migrate.js",d("#jquery3")).done(function(){d.migrateTrace=!1}),d.fn.require(e+"olx-form.css",d(".olx-embed")).done(function(e){d.fn.require(t+"olx-form-embed.js").done(function(){d.fn.require("https://bbox.blackbaudhosting.com/webforms/bbox-min.js")})}),d.fn.require(t+"events-login.min.js",d(".js-event-login")),window.Intl&&"Europe/London"!==(new Intl.DateTimeFormat).resolvedOptions().timeZone&&d.fn.require(t+"vendor/moment.min.js",d(".whats-on, .event-single, .events .event")).done(function(){d.fn.require(t+"vendor/moment-timezone-with-data-10-year-range.min.js").done(function(){d.fn.require(t+"eventsTimeDisplay.min.js")})}),d.fn.require(t+"unibuddy-popup.min.js",d(".unibuddy-popup")).done(function(){d.fn.require("https://cdn.unibuddy.co/unibuddy-popcard.js")}),d.fn.require(t+"student-recruitment-events.min.js",d(".student-recruitment-events .events-filter")),d.fn.require(e+"interactive-svg-map.css",d("#interactive-map")).done(function(){d.fn.require(t+"vendor/svg-pan-zoom.min.js",d("#interactive-map")).done(function(){d.fn.require(t+"interactive-svg-map.min.js")})}),d.fn.require("https://s0-azure.assets-yammer.com/assets/platform_embed.js",d("#embedded-feed")).done(function(){d.fn.require(t+"yammer-feed-embed.min.js")}),d.fn.require("https://js.hsforms.net/forms/v2.js",d(".hubspot-form")).done(function(){d.fn.require(t+"hubspot-form.min.js")}),d.fn.require(t+"library-chat.min.js",d("#library-chat")),d.fn.require("https://cdn.hypemarks.com/pages/a5b5e5.js",d(".tintup"))},loadHandlers:function(){d.fn.log("loadHandlers"),d("body").on("click",'a[href="/error/report/"]',n)}}),d.fn.log=function(){var e=[];try{(e=Array.prototype.slice.call(arguments)).unshift("Imperialjs:"),e.unshift((new Date).getTime()),console.log.apply(console,e)}catch(e){var t=Array.prototype.slice.apply(arguments).join(" ");console.log(t)}},d.fn.require=function(n,t,i){d.fn.log("require",n,t,i);var s={cache:!0},a=d.Deferred(),r=function(e){if(0,void 0===e)return!0;if(e instanceof jQuery&&0<e.length)return!0;if(d.isArray(e)){for(var t=!0,n=e.length-1;0<=n;n--){var i=e[n];if(!1===r(i)){t=!1;break}}return t}return!1},o=function(e){return null!==e.match(/\.css$/)?l(e):null!==e.match(/\.js$/)?c(e):void 0},l=function(e){return d.extend(!0,{},i).cache||(e+="?_ts="+(new Date).getTime()),d.get(e,function(){d("<link>",{rel:"stylesheet",type:"text/css",href:e}).appendTo("head")})},c=function(e){e={url:e,dataType:"script"},e=d.extend(!0,{},i,e);e=d.ajax(e);return e};return function(){i=d.extend(!0,{},s,i);var e=r(t);return e&&function(){if(0,d.isArray(n)){for(var e=[],t=0;t<n.length;t++)e.push(o(n[t]));a=d.when.apply(d,e)}else"string"==typeof n&&(a=o(n))}(),d.fn.log("require",n,"loaded: ",e),a}()}}(jQuery),app.utility=function(){"use strict";var e={};return $(function(){$(".noscript").remove()}),e.debounce=function(i,s,a){var r;return function(){var e=this,t=arguments,n=a&&!r;clearTimeout(r),r=setTimeout(function(){r=null,a||i.apply(e,t)},s),n&&i.apply(e,t)}},window.addEventListener("load",function(e){for(var t=document.querySelectorAll(".news-list a, .job-feed__item a, .event-list a, .people.grid .story-title, .events .search-results a, .search-results .event a"),n=0;n<t.length;n++){var i,s=t[n].clientWidth-46,a=t[n].textContent.split(/\s+(?!([^<]+)?>)+/g);for(i in a)if(void 0!==a[i]&&17<=a[i].length){t[n].innerHTML=t[n].innerHTML.replace(/\/(?!([^<]+)?>)+/g,"/&#8203;"),a[i];-1!=!a[i].indexOf("-")&&(t[n].innerHTML=t[n].innerHTML.replace(a[i],'<span class="longword">'+a[i]+"</span>"));for(var r=document.querySelectorAll(".longword"),o=0;o<r.length;o++)r[o].offsetWidth>s&&r[o].classList.add("allow-break")}}}),$(function(){/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)&&document.body.classList.add("safari-browser")}),e}(),function(t){t.fn.changeElementType=function(e){var n={};t.each(this[0].attributes,function(e,t){n[t.nodeName]=t.value}),this.replaceWith(function(){return t("<"+e+"/>",n).append(t(this).contents())})}}(jQuery),app.breakpoints={smallest:320,narrow:480,smaller:767,small:768,mid:929,medium:1024,large:1025,larger:1236,verylarge:1100,wide:1279,largest:1281},app.ui=function(){"use strict";return $(function(){window.setTimeout(function(){var e,i,t;$(".intro-text").each(function(){150<$(this).text().trim().length&&$(this).addClass("is-pretty-long")}),$("#secondary-nav").find("[class*='currentbranch']").last().find("a").addClass("active").parents(".has-children").addClass("active"),(t=$("#secondary-nav")).is(":visible")&&(e=t.find("li.has-children>span>a,li.has-children>a"),i=$("<div>").addClass("expandable"),$.each(e,function(e,t){var n=i.clone();$(t).after(n)}),e.on("focus.expandable",function(e){$(e.target).closest("li.has-children").first().addClass("active")}),t.on("click.expandable","div.expandable",function(e){$(e.target).closest("li.has-children").first().toggleClass("active")}),t.on("mouseover.expandable","div.expandable",function(e){$(e.target).siblings("a").addClass("hover")}),t.on("mouseout.expandable","div.expandable",function(e){$(e.target).siblings("a").removeClass("hover")}))},0),Modernizr.csscolumns||$(".columnize-3").columnize({columns:3})}),{}}(app.breakpoints),app.searchableListing=function(){"use strict";return $(function(){if(!$(".recruitment").length){if(/iP(od|hone)/i.test(window.navigator.userAgent))return $(".searchable_listing-active_filters").remove(),$(".select-filter select").each(function(){$($(this).find("option")[0]).before('<option value="" disabled selected style="display:none">Select</option>')}).on("change",function(){0==$(this).find(":selected").length&&$($(this).find("option")[0]).attr("selected","true")}),!1;if(/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent))return $(".searchable_listing-active_filters").remove(),$(".select-filter select").each(function(){$($(this).find("option")[0]).before('<option value="" disabled selected style="display:none">Select</option>')}).on("change",function(){0==$(this).find(":selected").length&&$($(this).find("option")[0]).attr("selected","true")}),!1}$(".searchable_listing").each(function(){$(this);var n=$(this).find(".searchable_listing-form"),i=$(this).find(".searchable_listing-active_filters"),s=0,e=$('<li class="reset_link"><a href="#" class="reset_link" title="Remove All Filters">Reset All Filters</a></li>');i.find(".labels .reset_link").length||i.find(".labels").append(e),i.hide(),n.find("select").on("chosen:ready",function(e,t){var n=$(this).next(".chosen-container").find("input"),i=$(this).attr("data-placeholder");n.attr("placeholder",i)}).chosen({width:"150px",hide_results_on_select:!0}).on("change",function(e,t){void 0!==t&&(void 0!==t.selected&&t.selected&&(n.find(".search-choice").appendTo(i.find(".labels")).addClass("label"),s+=1),void 0!==t.deselected&&t.deselected&&--s,1<=s?i.show():i.hide())}),e.on("click",function(e){$(this).parents(".labels").find(".search-choice-close").trigger("click"),e.preventDefault()}),n.find("select").each(function(){var e;$(this).val()&&($(this).attr("data-placeholder"),e=$(this).val(),$(e).each(function(e){s+=1,n.find(".search-choice").appendTo(i.find(".labels .label-items")).addClass("label"),i.show()}))})})}),{}}(app.breakpoints),app.masonry=function(e){"use strict";var s,a={masons:$()},r=!1;function t(){if("undefined"!=typeof Masonry)return $.Deferred().resolve().promise();return $.fn.require("/assets/website/js/require/vendor/masonry.min.js")}function o(){$("#secondary-content.masonry").masonry()}function n(){a.masons=a.masons.add(".media-grid"),$(".media-grid").addClass("masonry").masonry({columnWidth:".grid-sizer",itemSelector:".media-grid-item"})}return $(window).on("load",function(){s=$("#secondary-content"),Harvey.attach("screen and (max-width: "+e.mid+"px) and (min-width: "+e.narrow+"px)",{on:function(){t().then(function(){var e,t,n,i;!function(){var e=document.querySelectorAll("aside h2.fake-h3");if(e.length)for(var t=Array.prototype.slice.call(e),n=0;n<t.length;n++){var i=t[n].nextElementSibling,s=i.querySelector(".module");s&&i.insertBefore(t[n],s)}}(),s.prepend('<div class="grid-sizer" style="width:50%;height:100px;"></div>'),s.children("a.btn").wrapAll($('<div class="col lg-12"/>')),s.toggleClass("masonry",!0).masonry({columnWidth:".grid-sizer",itemSelector:".col"}),0<s.find(".twitter").length&&function t(e){e.hasClass("twitter-rendered")||window.setTimeout(function(e){0<e.find(".twitter-timeline-rendered").length?(o(),e.addClass("twitter-rendered")):t(e)},1500,e)}(s.find(".twitter")),a.masons=a.masons.add("#secondary-content"),e=document.querySelector(".masonry .news .tags"),t=document.querySelector(".masonry .event .tags"),n=document.querySelector(".masonry .news-list .module"),i=document.querySelector(".masonry .event-list .module"),r||(e&&n&&(e=e.cloneNode(!0),n.insertBefore(e,n.childNodes[0]),r=!0),t&&i&&(t=t.cloneNode(!0),i.insertBefore(t,i.childNodes[0]),t.querySelector(".parent span").innerHTML="events",r=!0))})},off:function(){t().then(function(){var e,t;s.find(".grid-sizer").remove(),s.toggleClass("masonry",!1).masonry("destroy"),a.masons=a.masons.not("#secondary-content"),e=document.querySelector(".sidebar .event-list .module .tags"),t=document.querySelector(".sidebar .news-list .module .tags"),e&&e.remove(),t&&t.remove(),r=!1})}}),Harvey.attach("screen and (max-width: "+e.narrow+"px)",{on:function(){0<$(".media-grid").length&&t().then(function(){n()})}})}),$(function(){0<$(".media-grid").length&&t().then(function(){n()})}),a.getMasonryContainer=function(e){var t=!1;return a.masons.each(function(){if($(this).has(e))return t=this}),t},a}(app.breakpoints),app.panelGroup=function(n){"use strict";var e={},i="Collapse all",s="Expand all";function t(e){var t,n;e.length&&"#!"!==e.substring(0,2)&&$(".panel-group "+e).length&&((t=(n=$(e)).closest(".panel-group")).hasClass("accordion")?(n.hasClass("active")||n.find("a").trigger("click"),app.targets.goToPanelHash(e)):t.hasClass("tabs")&&(n=n.data("tab-index"),t.find('a[data-tab-index="'+n+'"]').trigger("click"),app.targets.goToPanelHash(e)))}function a(){var e=$(".item-content:visible, .wide-item-content:visible").find(".gmaps-wrap");e.length&&e.find(" > iframe").not(".updated").attr("src",function(e,t){return t}).addClass("updated")}return $(function(){var e;$(".panel-group").each(function(){var e=$(this),t=e.hasClass("md-accordion")?n.medium:n.smaller;e.panelGroup({firstAccordionOpen:1<e.find("> .item").length&&e.is(".accordion-first-open"),tabNavAsList:!1,accordionSpeed:200,onlyKeepOneOpen:!1,flexTabNav:!$(this).hasClass("no-flex-nav"),openAccordionTrigger:"click",selectors:{item:"> .item",header:".item-header",content:".item-content"}}).on("tabchange",function(){$(window).trigger("resize.ehc")}).on("accordionstart tabstart",function(){$(this).parents(".wide-panel-group, .panel-group").length||mutate.watch()}).on("accordionchange tabchange",function(){$(this).parents(".wide-panel-group, .panel-group").length||mutate.unwatch(),a()}).prepend('<a href="#" class="panel-group__toggle">'+s+"</a>"),Harvey.attach("screen and (max-width: "+t+"px)",{on:function(){e.panelGroup("tabsToAccordions")},off:function(){e.panelGroup("tabsBackToTabs")}})}),$(".wide-panel-group").panelGroup({firstAccordionOpen:!1,accordionSpeed:200,onlyKeepOneOpen:!1,tabNavAsList:!1,selectors:{item:".wide-item",header:".wide-item-header",content:".wide-item-content"},openTabTrigger:"click",tabNavClasses:"col lg-2",tabItemsClasses:"col lg-10"}).on("tabchange",function(){$(window).trigger("resize.ehc")}).on("accordionstart tabstart",function(){$(this).parents(".wide-panel-group, .panel-group").length||mutate.watch()}).on("accordionchange tabchange",function(){$(this).parents(".wide-panel-group, .panel-group").length||mutate.unwatch(),a()}),Harvey.attach("screen and (max-width: "+n.smaller+"px)",{on:function(){$(".wide-panel-group").panelGroup("tabsToAccordions")},off:function(){$(".wide-panel-group").panelGroup("tabsBackToTabs")}}),(e=$(".feature-slider")).panelGroup({firstAccordionOpen:e.is(".accordion-first-open"),accordionSpeed:200,onlyKeepOneOpen:!1,tabNavAsList:!1,selectors:{item:".item",header:".item-header",content:".item-content"},openTabTrigger:"click focus"}).on("tabchange",function(){$(window).trigger("resize.ehc")}).on("accordionstart tabstart",function(){mutate.watch()}).on("accordionchange tabchange",function(){mutate.unwatch()}),Harvey.attach("screen and (max-width: "+n.smaller+"px)",{on:function(){$(".feature-slider").panelGroup("tabsToAccordions")},off:function(){$(".feature-slider").panelGroup("tabsBackToTabs")}}),$(".wide-panel-group").find(".wide-item[data-tab-index=0]").find(".gmaps-wrap").find("> iframe").not(".updated").addClass("updated"),$("body").on("click",".panel-group__toggle",function(e){e.preventDefault();var t=$(this).parents(".panel-group"),e=$(this);t.hasClass("is-all-open")?(t.find(".item-content").slideUp(),t.find(".item, .item-header").removeClass("active"),t.removeClass("is-all-open"),e.html(s)):(t.find(".item-content").slideDown(),t.find(".item, .item-header").addClass("active"),t.addClass("is-all-open"),e.html(i))}),$(".panel-group .item-header a").on("click",function(){var e=$(this).parents(".panel-group"),t=e.find(".item.active");1==t.length?e.removeClass("is-all-open").find(".panel-group__toggle").html(s):t.length==e.find(".item").length&&e.addClass("is-all-open").find(".panel-group__toggle").html(i)})}),$(window).on("load",function(){t(document.location.hash)}),e.showPanelGroupItem=t,e}(app.breakpoints),app.inputforms=function(){"use strict";var e='.form-actions input[type="submit"],.form-actions button.submit';function t(e){window.setTimeout(app.header.hideNavHeader,200)}return $(function(){$(e).length&&$("body").on("click.inputforms.submit",e,t),$(".chosen").length&&$(".combo .chosen, .dropdown .chosen").each(function(e,t){$(t).chosen({disable_search_threshold:10})}),$(".js-cm-form").length&&$(".js-cm-form").each(function(e,t){var n=$(t),t=n.data("action");if(void 0===t)return!0;n.attr("action",t),n.removeAttr("data-action")})}),{}}(app.header),app.header=function(n){"use strict";var i,s,a,r,o,l,e={},c="fixed",d=0,u=0,h=0,p=0,f="up",m="down",v=null,g=!0;if(Modernizr.mediaqueries)return $(function(){var e,t;a=$("#header"),r=$("#primary-nav"),o=$(".section-nav"),l=$(".navigation-header"),s=$("#content-box"),(i=$(window)).on("scroll",_),e=document.getElementById("news-header"),t=document.querySelector("#header #disaster-high"),e&&t&&$("#news-header").remove(),g=0!==o.find(".menus ul").first().find("li:not(.noscript)").filter(":visible").length||(a.addClass("no-section"),!1),Harvey.attach("screen and (max-width:"+n.mid+"px)",{setup:function(){},on:function(){y(!0),w(0,!0),i.on("scroll",b),i.off("scroll",_),setTimeout(function(){s.css("padding-top",a.height())},100),a.removeClass("fixed")},off:function(){s.css("padding-top",0),y(!1),w(0,!0),i.off("scroll",b),i.on("scroll",_)}})}),e.showNavHeader=function(){v=f,w(0,!0)},e.hideNavHeader=function(){v=m,w(a.height(),!0)},e;function _(e){var t=Math.max(0,$(document).scrollTop());l.outerHeight();a.hasClass(c)&&t<d-a.height()-parseInt(a.css("top"),10)?(a.removeClass(c),s.css("padding-top",0),w(0,!1)):o.length&&a.hasClass(c)&&t<d-a.outerHeight()?w(0,!1,function(){}):t<h&&v!==f?60<(p+=h-t)&&(v=f,w(p=0,!0)):(h<t||t<=0)&&(!o.length&&i.scrollTop()>r.offset().top||o.length&&i.scrollTop()>(u||o.offset().top+48))&&v!==m?(v=m,t<=(p=0)?(a.removeClass(c),w(0,!0)):a.hasClass(c)?o.length&&w((g?r:a).outerHeight(),!0):(d=a.height(),u=o.length?o.offset().top+48:0,s.css("padding-top",d),a.addClass(c),o.length&&w((g?r:a).outerHeight(),!1))):p=0,h=t}function b(e){var t=Math.max(0,i.scrollTop()),n=l.outerHeight();t>Math.max(n,h)&&v!==m?(v=m,p=0,w(a.height(),!0)):t<h&&v!==f?60<(p+=h-t)&&(v=f,w(p=0,!0)):p=0,h=t}function y(e){var t=document.getElementById("disaster-high"),n=document.getElementById("content-box"),i=document.querySelector("h1.logo");t&&(!0===e?n.insertAdjacentElement("afterbegin",t):i.parentNode.insertBefore(t,i.nextSibling))}function w(e,t,n){var i=g?124:80;a.removeClass("animate"),t&&(a.addClass("animate"),a.one($.support.transition.end,function(){a.removeClass("animate"),(n||function(){})()}).emulateTransitionEnd(300)),0===e?(a.one($.support.transition.end,function(){a.css("transform","none")}).emulateTransitionEnd(t?300:0),$(".index-pager.fixed").css({top:i})):$(".index-pager.fixed").css({top:"3%"}),a.toggleClass("is-offset",0!==e),Modernizr.csstransforms3d?a.css("transform","translate3d(0px, "+-e+"px, 0px)"):Modernizr.csstransforms?a.css("transform","translate(0px, "+-e+"px)"):a.css("top",-e+"px"),a.trigger("header.change",[e])}}(app.breakpoints),app.alerts=function(e){"use strict";var t={el:".alert",parent:!1,destination:"#primary-content > .container"};function n(){t.destination.prepend(t.el.addClass("folded"))}function i(){t.parent.prepend(t.el.removeClass("folded"))}return $(function(){t.el=$(t.el),t.parent=t.el.parent(),t.destination=$(t.destination),Harvey.attach("screen and (max-width: "+e.mid+"px)",{on:n,off:i})}),t}(app.breakpoints),app.targets=function(){"use strict";var e={};function t(e,t){var n,i;"#"!==e&&"#"===e.charAt(0)&&(Modernizr.mq("only all")?((n=$(e)).length&&(i=Math.floor(n.offset().top)),t||(history.pushState?history.pushState(null,null,e):location.hash=e),$(document,"body").scrollTop(i),window.setTimeout(function(){0<$("#header.fixed").height()&&$("#header.fixed").height()&&$(document,"body").scrollTop(i-$("#header.fixed").height()+25),$(n).attr("tabindex",-1).on("blur focusout",function(){$(this).removeAttr("tabindex")}).trigger("focus")},0)):t||(history.pushState?history.pushState(null,null,e):location.hash=e))}return e.goToPanelHash=function(e){$(window).scrollTop($(e).closest(".panel-group").offset().top-125)},e.goToAnyHash=function(e){$(window).scrollTop($(e).offset().top-125)},e.init=function(){$(window).on("load",function(){var e;document.location.hash&&"#!"!==document.location.hash.substring(0,2)&&(e=document.location.hash,$(e).attr("tabindex",-1).on("blur focusout",function(){$(this).removeAttr("tabindex")}).trigger("focus")),$(window).on("hashchange",function(){$(".panel-group").find(document.location.hash).length?app.panelGroup.showPanelGroupItem(document.location.hash):t("#"+window.location.hash.replace(/^#/,""),!0)})})},e}(),app.indexPager=function(t){"use strict";function n(){$(".index-pager.sm-fixed").each(function(){var e=document.createComment("pager placeholder");$(this).data("placeholder",e)})}function i(){$(".index-pager.sm-fixed").each(function(){$(this).addClass("fixed").before($(this).data("placeholder")),$("body").append(this)})}function s(){$(".index-pager.sm-fixed").each(function(){var e=$(this).data("placeholder");$(this).removeClass("fixed"),$(e).before(this).detach()})}function a(e){document.body.classList.add(e)}return $(function(){var e=document.querySelector(".index-pager.sm-fixed");Harvey.attach("screen and (max-width: "+t.smaller+"px)",{setup:n,on:i,off:s}),$(".index-pager").filter("[data-accordion]").each(function(){$($(this).data("accordion")).length&&$(this).find("a").on("click",function(e){var t=$(this).attr("href"),t=$(t);t.length&&(e.preventDefault(),$("html, body").animate({scrollTop:t.offset().top-45-5},300),t.next().not(".active").length&&t.next().find(".item-header a").first().trigger("click"))})}),e&&(a("fixed-pager-nav"),(e=document.getElementById("header"))&&e.querySelector(".section-nav")&&a("fixed-pager-section-nav"))}),{}}(app.breakpoints),app.section_links=function(){"use strict";var a,t={sections:[]};function r(e){var n,i=$(window).scrollTop()+$(window).height(),s=(a.hasClass("fixed")&&a.height(),$(window).scrollTop());if(s+$(window).height()>$(document).height()-100)return $(".section-link").addClass("hidden"),void $(window).off("scroll",r);$.each(t.sections,function(e,t){t.top=t.link.offset().top,t.disabled=t.disabled||a.height()+s>t.top,t.top<i&&(!n||t.top>n.top)&&(n=t)}),$.each(t.sections,function(e,t){t.link.toggleClass("hidden",t.disabled||n!==t)})}function e(e){var t=$($(this).attr("href")),n=(a.hasClass("fixed")?a:$("#primary-nav")).height();return $("body,html").animate({scrollTop:t.offset().top-n},400),!1}return $(function(){a=$("#header"),$(".section-link").on("click",e).each(function(){t.sections.push({link:$(this)})}),$(window).on("scroll",r)}),t}(app.breakpoints),app.flexslider=function(h){"use strict";var f={sliders:[],carousels:[]},m=!0;function v(){if("undefined"!=typeof window)return Boolean("ontouchstart"in window||0<window.navigator.maxTouchPoints||0<window.navigator.msMaxTouchPoints||window.DocumentTouch&&document instanceof DocumentTouch)}return window.matchMedia("(prefers-reduced-motion: reduce)").matches&&(m=!1),$(function(){var h=!1,p=v();window.matchMedia("(max-width: 929px)").matches&&(h=!0),$(".media-item.slideshow").each(function(){var n,i,t,e,s,a,r,o,l,c,d=$(this);function u(){document.querySelectorAll(".media-item.slideshow .items > .item").forEach(function(e){var t=Array.prototype.slice.call(e.querySelectorAll("*"));if(e.classList.contains("flex-active-slide")){if(e.removeAttribute("tabindex"),e.setAttribute("aria-hidden","false"),t)for(var n=0;n<t.length;n++)t[n].removeAttribute("tabindex")}else if(e.setAttribute("tabindex",-1),e.setAttribute("aria-hidden","true"),t)for(var i=0;i<t.length;i++)t[i].setAttribute("tabindex",-1)})}p&&h?d.addClass("is-touch"):1<d.children(".items").children(".item").length&&(f.sliders.push(d),d.addClass("loading"),n=$(' <div class="controls"> <span class="pagination"><span class="current">1</span> of <span class="total"></span></span> <button class="prev" aria-label="Previous slider item" aria-controls="flex-viewport">Previous Media Item</button> <button class="playpause pause" aria-label="Play Pause slider item" aria-controls="flex-viewport">Pause</button> <button class="next" aria-label="Next slider item" aria-controls="flex-viewport">Next Media Item</button> </div>'),i=n.find(".pagination > .current"),t=n.find(".pagination > .total"),e=n.find(".prev"),s=n.find(".next"),a=n.find(".playpause"),r=d.find(".item .video-player .play-button"),$(this).append(n),o=function(){d.data("flexslider").vars.animationSpeed=400},l=function(e){var t=d.data("flexslider");t.isFocused||(t.flexAnimate(0,!1),t.viewport.scrollLeft(0),n.fadeOut(),t.pause(),$(document).on("click",c),$(document).on("focus","a, input, button, span.non-link",c),t.isFocused=!0)},c=function(e){var t=d.data("flexslider");0==t.viewport.has(e.target).length&&(n.fadeIn(),t.viewport.scrollLeft(0),t.manualPause||t.playing||t.play(),$(document.body).off("click",c),$("body").off("focus","a, input, button",c),t.isFocused=!1)},d.flexslider({selector:".items > .item",animation:"slide",keyboard:!1,controlNav:!1,directionNav:!1,slideshow:m,slideshowSpeed:8e3,animationSpeed:1300,animationLoop:!1,smoothHeight:!1,touch:!0,pauseOnAction:!1,pauseInvisible:!0,init:function(e){e.viewport.on("touchend",function(){o()})},start:function(e){e.isFocused=!1,d.removeClass("loading"),t.text(e.count),$(window).trigger("resize.ehc"),e.viewport.find(".item .media a").on("focus",l)},before:function(e){var t=$(e.slides[e.currentSlide]).find(".video-player.video-player-loaded");t.length&&window.setTimeout(function(){$.fn.imperialVideo.unload(t)},400),i.text(e.animatingTo+1)},after:function(e){d.data("flexslider").vars.animationSpeed=1300,d.data("flexslider").vars.slideshowSpeed=17e3,e.manualPause||e.playing||e.play()}}),s.on("click",function(e){e.preventDefault(),o(),d.flexslider("next"),u()}),e.on("click",function(e){e.preventDefault(),o(),d.flexslider("prev"),u()}),a.on("click",function(e){e.preventDefault(),u();e=d.data("flexslider");$(this).hasClass("play")?($(this).removeClass("play").addClass("pause"),o(),e.manualPause=!1,e.play(),d.flexslider("next")):($(this).removeClass("pause").addClass("play"),e.pause(),e.manualPause=!0)}),r.on("click",function(){a.removeClass("play").trigger("click")}),s.on("focus",function(e){e.preventDefault(),u()}),e.on("focus",function(e){e.preventDefault(),u()}),a.on("focus",function(e){e.preventDefault(),u()}),s.on("focusout",function(e){e.preventDefault(),u()}),e.on("focusout",function(e){e.preventDefault(),u()}),a.on("focusout",function(e){e.preventDefault(),u()}))})}),$(function(){$(".media-item .carousel-wrap").each(function(){document.querySelector(".carousel-wrap");var n,t,i,s,a,r,o,e,l,c,d=!1,u=v();window.matchMedia("(max-width: 929px)").matches&&(d=!0),u&&d?function(e){var r=$(e);r.addClass("is-touch").wrapInner('<div class="carousel-viewport" aria-roledescription="carousel"></div>');var o=r.find(".carousel-viewport");function t(){var e=o.scrollLeft(),t=o.outerWidth(),n=o.find(".item").first().position().left,i=o[0].scrollWidth,s=t<=i,a=s&&e+t===i,i=s&&n<=2&&e+t<i,n=s&&2<n;r.toggleClass("at-start",n).toggleClass("at-middle",i).toggleClass("at-end",a)}t(),o.on("scroll",t)}(this):(n=$(this),t=n.find(".items"),i=$('<div class="pager-controls"><button class="pager-control prev" aria-label="Previous carousel item" aria-controls="carousel-viewport">Previous</button><button class="pager-control next" aria-label="Next carousel item" aria-controls="carousel-viewport">Next</button></div>'),s=i.find(".prev,.next"),a=i.find(".prev").attr("tabindex",-1),r=i.find(".next").attr("tabindex",-1),o=!1,n.find(".items").children(".item").length<2?(n.addClass("carousel-inactive"),t.css({width:194*t.find(".item").length})):(f.carousels.push(n),n.append(i),r.on("click",function(){return n.flexslider("next"),!1}),a.on("click",function(){return n.flexslider("prev"),!1}),e=function(e){var t;o||((t=n.data("flexslider")).isFocused||(t.flexAnimate(0,!1),t.viewport.scrollLeft(0),$(document).on("click",l),$(document).on("focus","a, input, button, span.non-link",l),t.isFocused=!0),0<$(e.target).closest(".item").index()&&i.fadeOut()),o=!1},l=function(e){var t=n.data("flexslider");0!=t.viewport.has(e.target).length&&0!=$(e.target).closest(".item").index()||(i.fadeIn(),t.viewport.scrollLeft(0),$(document.body).off("click",l),$("body").off("focus","a, input, button",l),t.isFocused=!1)},c=function(){var e=n.data("flexslider");!function(e,t){e=e.outerWidth(),t=t.find(".item");return e<$(t[0]).outerWidth()*t.length}(e.viewport,t)?e.addClass("carousel-inactive").removeClass("has-nav").removeClass("at-start").removeClass("at-middle").removeClass("at-end"):(e.removeClass("carousel-inactive").addClass("has-nav").addClass("at-start").trigger("carousel.at-start"),a.addClass("disabled"),r.removeClass("disabled")),e.flexAnimate(0)},n.flexslider({namespace:"carousel-",selector:".items .item",animation:"slide",keyboard:!1,controlNav:!1,directionNav:!1,slideshow:m,animationLoop:!1,smoothHeight:!1,touch:!0,useCSS:!0,animationSpeed:600,itemWidth:194,itemMargin:0,minItems:1,maxItems:0,move:0,init:function(e){e.addClass("is-flexslider"),c();e=h.debounce(c,100);$(window).on("resize orientationchange",e)},start:function(t){a.addClass("disabled"),t.viewport.on("scroll",function(e){t.viewport.toggleClass("has-scrolled",0<t.viewport.scrollLeft())}),t.viewport.find(".item a").on("mousedown",function(e){o=!0}),t.viewport.find(".item a").on("focus",e)},after:function(e){},before:function(e){var t="disabled";e.removeClass("at-start").removeClass("at-end").removeClass("at-middle"),1===e.pagingCount?s.addClass(t).attr("tabindex","-1"):e.vars.animationLoop?s.removeClass(t).removeAttr("tabindex"):0===e.animatingTo?(e.addClass("at-start").trigger("carousel.at-start"),s.removeClass(t).filter(".prev").addClass(t).attr("tabindex","-1")):e.animatingTo===e.last?(e.addClass("at-end").trigger("carousel.at-end"),s.removeClass(t).filter(".next").addClass(t).attr("tabindex","-1")):(e.addClass("at-middle").trigger("carousel.at-middle"),s.removeClass(t).removeAttr("tabindex"))}})))})}),$(function(){var e,t,n=".carousel-viewport",i=document.querySelectorAll(".carousel-wrap"),s=Array.prototype.slice.call(i),a=document.querySelectorAll(".slideshow"),r=Array.prototype.slice.call(a);if(i)for(var o=0;o<s.length;o++){var l=s[o].querySelector(n);l&&(l.setAttribute("aria-roledescription","carousel"),e=s[o],t=void 0,null!=(t=e.getAttribute("data-aria"))&&e.querySelector(n).setAttribute("aria-label",t));for(var l=s[o].querySelectorAll(".item"),c=Array.prototype.slice.call(l),d=0;d<c.length;d++)c[d].setAttribute("aria-roledescription","slide")}if(a)for(o=0;o<r.length;o++){var u=r[o].querySelector(".flex-viewport");u&&u.setAttribute("aria-roledescription","slideshow");for(var u=r[o].querySelectorAll(".item"),h=Array.prototype.slice.call(u),d=0;d<h.length;d++)h[d].setAttribute("aria-roledescription","slide")}}),f}(app.utility),app.nav=function(c,t,e){"use strict";var n,i,s,a,r,o,l,d,u,h,p,f,m,v,g,_,b,y,w,x,C,k,T={},S=[],A=[];function N(e){e.preventDefault()}function q(){b=$('<a class="drawer-trigger" href="#">Toggle navigation</a>').on("click",K),y=$('<div id="drawer"> <div class="drawer-top"> <a class="drawer-close" href="#">Close</a> </div> <div class="drawer-content"><div class="drawer-panels"></div></div> </div>'),w=y.find(".drawer-top"),x=y.find(".drawer-content"),C=y.find(".drawer-panels"),k=$('<div class="drawer-panels-back back">Back</div>').on("click",I),y.find(".drawer-close").on("click",T.closeDrawer),C.on("touchmove",".panel",function(e){var t=$(e.target).closest(".panel");t.height()<t[0].scrollHeight&&e.stopPropagation()})}function j(){var e;!function(){s.removeClass("wide").addClass("narrow");var e=$('<div class="panel" />').preventTouchOverScroll();e.append(s).append(r),C.append(e),w.append(a),(l=s.find(".has-children > a, .has-children > span")).on("click",E),l.on("keyup",function(e){13===e.which&&$(e.target).trigger("click")}),S=[{element:e,parent:null,title:null}]}(),n.after(y),i.append(b),x.find("span.non-link").attr("tabindex","0"),u.hide(),F(),$(window).off("resize",L),h.find(".has-children > span a, .has-children > a").on("click",H),d.on("click",B),n.on("click",G),h.before(u),u.append(h),h.find("[class*='currentbranch']").children("a").trigger("click"),e=Modernizr.touchevents||Modernizr.pointerevents?"click":"focus",$(document).off("click",V),$("body").off(e,"a, input, button",Q),R()}function M(){T.closeDrawer(),y.detach(),b.detach(),s.removeClass("narrow").addClass("wide"),i.append(r).after(s),s.prepend(a),C.removeClass("has-"+S.length),$.each(S,function(e,t){0!==e&&P(t)}),C.html(""),S=[],l.off("click",E),h.find(".has-children > span a").off("click",H),d.off("click",B),n.off("click",G),$.each(A,function(e,t){W(t)}),h.removeClass("has-"+A.length).height("").unwrap(),d.removeClass("open"),$(document.body).removeClass("section_nav-open"),A=[],U(),h.show(),$(window).on("resize",L)}function E(e){e.preventDefault();var t=$(this).siblings(".toggle-content").first();if(!t.length)return!0;var n={element:t,parent:t.parent(),title:t.parent().children("a, span").clone(!1).addClass("menu-title parent-clone")};S.push(n);e=$('<div class="panel" />').preventTouchOverScroll();e.prepend(k.clone(!0)),e.append(n.title).append(t),C.append(e),D(),setTimeout(function(){$(".panel").last().find("a").eq(0).trigger("focus")},400)}function I(e){if(!S.length)return!1;var t=S.pop();D(),setTimeout(function(){P(t)},400)}function D(){var e=S.length;C.removeClass("has-"+(e+1)).removeClass("has-"+(e-1)).addClass("has-"+e)}function P(e){e.element.siblings().remove(),e.element.unwrap(),e.parent&&e.parent.append(e.element),e.title&&e.title.remove()}function L(){var e=0,t=0,n=p.width();F(),p.children().each(function(){e+=$(this).outerWidth(!0)}),n<e+10&&(p.append(f),t=f.outerWidth(!0),p.children().each(function(){t+=$(this).outerWidth(!0),n<t&&!$(this).hasClass("extras")&&m.append($(this))}))}function H(e){e.preventDefault();var t=$(this).closest("li").children("ul");if(!t.length)return!0;var n={element:t,parent:t.parent()};A.push(n),n.title=$(this).clone(!1).wrap('<li class="parent-clone" />').parent().prependTo(t);e=(1<A.length?A[A.length-2].title:d).text();n.back=$('<a href="#">'+e+"</a>").on("click",O).wrap('<li class="back-link" />').parent().prependTo(t),h.append(t),z()}function O(e){e.preventDefault();var t=A.pop();z(),setTimeout(function(){W(t)},400)}function W(e){e.back.remove(),e.title.remove(),e.element.appendTo(e.parent)}function z(){var e=A.length;h.removeClass("has-"+(e+1)).removeClass("has-"+(e-1)).addClass("has-"+e),A.length&&(e=A[A.length-1].element.outerHeight(),u.height(e||""))}function B(e){e.preventDefault();e=!u.is(":visible");$(document.body).toggleClass("section_nav-open",e),e?(d.addClass("open"),u.show(),u.height(h.children().last().height())):(u.hide(),d.removeClass("open"))}function G(e){n.is(e.target)&&u.is(":visible")&&(e.preventDefault(),$(document.body).removeClass("section_nav-open"),u.slideUp(function(){d.removeClass("open")}))}function F(){f.detach(),p.append(m.children())}function R(){g.detach(),v.append(_.children())}function U(){var e=Modernizr.touchevents||Modernizr.pointerevents?"click":"focus";$(document).on("click",V),$("body").on(e,"a, input, button, span.non-link",Q)}function Q(e){var t=$(e.target).parents(".has-children");if(0!=t.length){if(t.first().hasClass("hover")&&"click"==e.type)return e.target.href&&V(e,!0),!0;e.preventDefault(),$(".has-children").not(t).removeClass("hover"),t.addClass("hover")}else V(e)}function V(e,t){(t?$(".has-children.hover"):$(".has-children.hover").not($(".has-children.hover").has(e.target))).removeClass("hover")}function K(e){T[T.is_open?"closeDrawer":"openDrawer"](e)}return $(function(){$(document.body),n=$("#header"),i=$(".navigation-header"),s=$("#primary-nav"),a=$("#search-area"),r=$("#news-header"),o=$(".has-children, .section-nav"),d=$("#section-title"),u=$('<div class="menus-container"></div>'),h=$(".section-nav .menus"),p=$(".section-nav .menus > ul"),f=$('<li class="extras has-children"><span class="non-link">MORE</span><ul class="children"></ul></li>'),m=f.find("ul"),o.each(function(){var e=$(this).find("a[data-parent],a[data-toggle]").first(),t=$(this).find(".overview_link").first(),n=$(this);e.each(function(){$(this).is(".non-link")?$(this).removeAttr("href").changeElementType("span"):e.attr("href",t.attr("href")),n.is(".section-nav")||t.remove()}),$(this).is(".section-nav")&&!t.length&&$(this).find("a").first().changeElementType("span")}),e.init(),document.addEventListener("keydown",function(e){if(27===(e.keyCode||e.which||e.keyIdentifier)){var e=document.querySelectorAll(".mega, .section-nav .has-children, .nav-secondary .has-children"),t=Array.prototype.slice.call(e);if(e)for(var n=0;n<t.length;n++)t[n].classList.remove("hover");document.querySelectorAll(".drawer-open").length&&T.closeDrawer()}}),$(window).on("resize",L),$("span.currentbranch0").parent("li").addClass("active"),p.find("li:has(ul)").addClass("has-children"),L(),U(),v=$(".nav-secondary"),g=$('<li class="extras has-children"><span class="non-link">MORE</span><ul class="children"></ul></li>'),_=g.find("ul"),$("#secondary-nav").find("li:has(ul)").addClass("has-children"),Harvey.attach("screen and (min-width: "+c.mid+"px) and (max-width:"+c.wide+"px)",{on:function(){_.append(v.children()),v.append(g),_.find(".has-children ").on("mouseenter.moreLinks",function(){$(this).addClass("expanded")}),_.on("mouseleave.moreLinks",function(){$(".nav-secondary").find(".expanded").removeClass("expanded")})},off:function(){R()}}),Harvey.attach("screen and (max-width:"+c.mid+"px)",{setup:q,on:j,off:M}),$("#primary-nav").find(".nav-primary > li").hoverIntent({interval:70,over:function(){$(this).addClass("hover")},out:function(){$(this).removeClass("hover")}}),function(){var e=250,t=".section-nav .multilevel-linkul-0",n=".section-nav .extras .children",i=34;if(!window.matchMedia("(max-width: "+c.mid+")").matches){var s=window.innerHeight-e,t=document.querySelectorAll(t),a=Array.prototype.slice.call(t);(n=document.querySelector(n))&&a.push(n);for(var r=0;r<a.length;r++){var o=a[r],l=o.querySelectorAll(":scope > li").length;s<l*i&&o.classList.add("tall-menu")}}}()}),T.openDrawer=function(e){e&&e.preventDefault(),T.is_open=!0,$(document.body).addClass("drawer-open"),$(document.body).on("touchmove",N),t.showNavHeader(),y.find(".drawer-close").trigger("focus")},T.closeDrawer=function(e){e&&e.preventDefault(),T.is_open=!1,$(document.body).removeClass("drawer-open"),y.addClass("closing"),n.one($.support.transition.end,function(){y.removeClass("closing")}),b.trigger("focus"),$(document.body).off("touchmove",N),x.scrollTop(0)},T.toggleDrawer=K,T.toggleSectionMenu=B,T}(app.breakpoints,app.header,(app.lib,app.viewport,app.targets)),app.youtube=function(){"use strict";return $(function(){$("iframe").each(function(){var e=$(this).attr("src");e&&0<=e.search("youtu")&&-1==e.search("wmode")&&$(this).attr("src",e+"?wmode=transparent")})}),{}}(),app.twitter=function(){"use strict";$(function(){0<$(".twitter-timeline").length&&($(".twitter-timeline").each(function(e){$(this).attr("height",$(this).data("height")).attr("width",$(this).data("width")),$(this).before('<a href="#after-twitter-'+(e+1)+'" class="twitter-skip">Skip Twitter Feed</a>').after('<div id="#after-twitter-'+(e+1)+'" class="after-twitter"></div>')}),window.twttr=function(e,t){var n,i=e.getElementsByTagName("script")[0];if(!e.getElementById(t))return(e=e.createElement("script")).id=t,e.src="//platform.twitter.com/widgets.js",i.parentNode.insertBefore(e,i),window.twttr||(n={_e:[],ready:function(e){n._e.push(e)}})}(document,"twitter-wjs"),twttr.ready(function(e){twttr.events.bind("rendered",function(e){0<$(e.target).closest(".equal-height-columns,.row.keyline,.flexible__item").length&&$(window).trigger("resize.ehc");e=app.masonry.getMasonryContainer(e.target);e&&$(e).masonry()})}))});var o;function e(){for(var e=0;e<o.length;e++){var t,n,i,s=!1,a=o[e],r=$(a).closest(".sidebar");null!=r&&"undefined"!=r||((t=$(a).closest(".col,.flexible__item")).parentNode.children[0]==t&&(s=!0),n=null!=(i=t.querySelectorAll("h2, h3, h4, h5, .fake-h2, .fake-h3, .fake-h4, .fake-h5")[0])&&"undefined"!=i?i.offsetHeight:0,void 0!==(r=t.querySelectorAll(".heading")[0])&&(n=r.offsetHeight),i=t.getElementsByTagName("a")[0].offsetHeight,s=(r=s?t.nextElementSibling:t.previousElementSibling).offsetHeight,t.classList.contains("flexible__item")&&(r.offsetWidth===t.offsetWidth||(s=(null!=(r=t.nextElementSibling)?r:r=t.previousElementSibling).offsetHeight)),i=s-n-i-32,a.style.setProperty("min-height",i+"px","important"))}}return o=document.getElementsByClassName("twitter-timeline"),window.addEventListener("load",function(){window.matchMedia("(min-width: 481px)").matches&&setTimeout(function(){e()},200)}),Harvey.attach("screen and (min-width:1024px)",{on:function(){e()}}),Harvey.attach("screen and (min-width:481px) and (max-width: 1023px)",{on:function(){e()}}),Harvey.attach("screen and (max-width:480px)",{on:function(){!function(){for(var e=0;e<o.length;e++)o[e].style.minHeight="200px"}()}}),{}}(app.breakpoints),app.gmaps=function(){"use strict";return $(function(){$(".gmaps-embed").each(function(){var e,t,n;e=this,t=$(e),n=t.index(),e=0==n,1==n&&t.prev().hasClass("heading")&&(e=!0),e&&t.addClass("top")})}),{}}(),app.eventDetails=function(e){"use strict";var t={elPrimary:".event-details__primary",elSecondary:".event-details__secondary",parent:".event-details__parent",primaryDestination:".event-details__primary-container",secondaryDestination:".event-details__secondary-container",noticeBanner:".event-details__notice-banner",mainContainer:"#main",secondaryContainer:"#secondary-content.sidebar.event",elPrimaryCopy:".event-details__primary-container .event-details__primary"};function n(){t.primaryDestination.prepend(t.elPrimary.addClass("folded")),t.secondaryDestination.prepend(t.elSecondary.addClass("folded")),t.mainContainer.prepend(t.noticeBanner.addClass("folded"))}function i(){var e=document.querySelectorAll(t.elPrimaryCopy);void 0!==e&&e[0].remove(),t.secondaryContainer.prepend(t.noticeBanner.removeClass("folded")),t.parent.prepend(t.elSecondary.removeClass("folded")).prepend(t.elPrimary.removeClass("folded"))}return $(function(){t.elPrimary=$(t.elPrimary),0!==t.elPrimary.length&&(t.elSecondary=$(t.elSecondary),t.parent=$(t.parent),t.primaryDestination=$(t.primaryDestination),t.secondaryDestination=$(t.secondaryDestination),t.noticeBanner=$(t.noticeBanner),t.mainContainer=$(t.mainContainer),t.secondaryContainer=$(t.secondaryContainer),Harvey.attach("screen and (max-width: "+e.mid+"px)",{on:n,off:i}))}),t}(app.breakpoints),app.ie=function(){"use strict";return $(function(){var e,t;e=$("html"),t=function(){var e={5.5:"5.5",5.6:"6",5.7:"7",5.8:"8",9:"9",10:"10"},t=new Function("/*@cc_on return @_jscript_version; @*/")();return void 0!==t?e[t]:0}(),navigator.userAgent.match(/Trident\/7\./)&&(t=11),(4<t||void 0!==document.documentMode)&&e.addClass("iedoc"+document.documentMode),0!==(t=4<t?t:0)&&e.addClass("ie"+t)}),{}}(),function(){var e,t,n=document.domain;-1===["icwww8.cc.ic.ac.uk","icwww7.cc.ic.ac.uk","icwww6.cc.ic.ac.uk","icwww5.cc.ic.ac.uk","icwww4.cc.ic.ac.uk","icwww3.cc.ic.ac.uk","t4awstest.cc.ic.ac.uk","localhost","test-staging.imperial.ac.uk","wwwtest.imperial.ac.uk","test-staging.imperial.ac.uk","www-staging.imperial.ac.uk","www.imperial.ac.uk","imperial.ac.uk"].indexOf(n)&&(e=location.href,t=document.referrer,n=new Image,"https:"==location.protocol?n.src="https://a174dfa0066d.o3n.io/images/aa9cd1imlxhli5gbe1p7zjjop/doc.gif?l="+encodeURI(e)+"&r="+encodeURI(t):n.src="http://a174dfa0066d.o3n.io/images/aa9cd1imlxhli5gbe1p7zjjop/doc.gif?l="+encodeURI(e)+"&r="+encodeURI(t))}();
//# sourceMappingURL=application.min.js.map